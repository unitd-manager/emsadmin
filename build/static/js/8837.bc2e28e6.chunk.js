/*! For license information please see 8837.bc2e28e6.chunk.js.LICENSE.txt */
(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[8837],{8837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n(65043),r=n(55613),a=(n(38421),n(61363),n(76256),n(58613)),s=n.n(a),i=n(92157),l=n.n(i),c=(n(88637),n(78187),n(58013),n(85594),n(28096)),d=n(36762),u=n(71134),h=n(17526),p=n(70579);const m=function(){const[e,t]=(0,o.useState)(),[n,a]=(0,o.useState)(),[i,m]=(0,o.useState)(""),[f,x]=(0,o.useState)(""),[v,b]=(0,o.useState)(""),[j,g]=(0,o.useState)(""),y=[{name:"S.No",selector:"s_no"},{name:"Invoice Date",selector:"invoice_date"},{name:"Invoice Number",selector:"invoice_code"},{name:"Supplier",selector:"supplier_name"},{name:"GST Number",selector:"gst_no"},{name:"Invoice Amount",selector:"invoice_amount"},{name:"Total Amount ($)",selector:"total_amount"},{name:"Payment Date",selector:"payment_date"},{name:"Po Number",selector:"po_code"},{name:"Po Date",selector:"po_date"}],[w,_]=(0,o.useState)(0),O=20*w,C=i.slice(O,O+20),k=Math.ceil(i.length/20);return(0,o.useEffect)((()=>{setTimeout((()=>{s()("#example").DataTable({pagingType:"full_numbers",pageLength:20,processing:!0,dom:"Bfrtip",buttons:[{extend:"csv",text:"CSV",className:"shadow-none btn btn-primary"},{extend:"print",text:"Print",className:"shadow-none btn btn-primary"}]})}),1e3),d.A.get("/company/getCompany").then((e=>{a(e.data.data)})),d.A.get("/purchaseorder/getPurchaseGstReport").then((e=>{m(e.data.data),t(e.data.data)})).catch((()=>{(0,u.A)("purchases not found","error")}))}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.N9,{}),(0,p.jsx)(r.Zp,{children:(0,p.jsx)(r.bw,{children:(0,p.jsxs)(r.fI,{children:[(0,p.jsx)(r.fv,{children:(0,p.jsxs)(r.gE,{children:[(0,p.jsx)(r.JU,{children:"Start Date"}),(0,p.jsx)(r.pd,{type:"date",name:"startDate",onChange:e=>x(e.target.value)})]})}),(0,p.jsx)(r.fv,{children:(0,p.jsxs)(r.gE,{children:[(0,p.jsx)(r.JU,{children:"End Date"}),(0,p.jsx)(r.pd,{type:"date",name:"endDate",onChange:e=>b(e.target.value)})]})}),(0,p.jsx)(r.fv,{md:"2",children:(0,p.jsxs)(r.pd,{type:"select",name:"gst",children:[(0,p.jsx)("option",{value:"",children:"Select Gst"}),(0,p.jsx)("option",{value:1,children:"Yes"}),(0,p.jsx)("option",{value:0,children:"No"})]})}),(0,p.jsx)(r.fv,{md:"2",children:(0,p.jsxs)(r.pd,{type:"select",name:"company_id",onChange:e=>g(e.target.value),children:[(0,p.jsx)("option",{defaultValue:"selected",children:"Select Client"}),n&&n.map((e=>(0,p.jsx)("option",{value:e.company_name,children:e.company_name},e.company_id)))]})}),(0,p.jsxs)(r.fv,{md:"1",children:[" ",(0,p.jsx)(r.$n,{color:"primary",className:"shadow-none",onClick:()=>(()=>{const t=e.filter((e=>e.company_name===(""===j?e.company_name:j))).filter((e=>v&&f?e.invoice_date<=(""===v?e.invoice_date:v)&&e.invoice_date>=(""===f?e.invoice_date:f):f?e.invoice_date===(""===f?e.invoice_date:f):e.invoice_date===(""===v?e.invoice_date:v)));m(t)})(),children:" Go "})]})]})})}),(0,p.jsxs)(r.Zp,{children:[(0,p.jsx)(r.bw,{children:(0,p.jsx)(r.fI,{children:(0,p.jsx)(r.fv,{children:(0,p.jsx)(h.A,{columns:y,data:i})})})}),(0,p.jsxs)(r.bw,{children:[(0,p.jsxs)(r.XI,{children:[(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{children:y.map((e=>(0,p.jsx)("td",{children:e.name},e.name)))})}),(0,p.jsxs)("tbody",{children:[C&&C.map(((e,t)=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:t+1}),(0,p.jsx)("td",{children:e.invoice_date}),(0,p.jsx)("td",{children:e.invoice_code}),(0,p.jsx)("td",{children:e.supplier_name}),(0,p.jsx)("td",{children:e.gst_no}),(0,p.jsx)("td",{children:e.invoice_amount}),(0,p.jsx)("td",{children:e.total_amount}),(0,p.jsx)("td",{children:e.payment_date}),(0,p.jsx)("td",{children:e.po_code}),(0,p.jsx)("td",{children:e.po_date})]},e.employee_id))),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:(0,p.jsx)("b",{})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{children:"Total"})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{})})]})]})]}),(0,p.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",pageCount:k,onPageChange:e=>{let{selected:t}=e;_(t)},containerClassName:"navigationButtons",previousLinkClassName:"previousButton",nextLinkClassName:"nextButton",disabledClassName:"navigationDisabled",activeClassName:"navigationActive"})]})]})]})}},17526:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var o=n(65043),r=n(65173),a=n.n(r);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,a=e.size,l=void 0===a?24:a,c=i(e,["color","size"]);return o.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),o.createElement("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="Table";const c=l;var d=n(69197),u=n(55613),h=n(54211),p=n.n(h),m=n(86947),f=n(81859),x=n(18713),v=n(36762),b=n(70579);const j=e=>{let{data:t,columns:n}=e;const[r,a]=o.useState();o.useEffect((()=>{v.A.get("/setting/getSettingsForCompany").then((e=>{a(e.data.data)}))}),[]);const s=e=>r.find((t=>t.key_text===e)).value;function i(){const e=[],o=[],r=[];return n.forEach((e=>{o.push(e.selector),r.push({text:e.name,style:"tableHead"})})),e.push(r),t.forEach(((t,n)=>{const r=[];o.forEach((e=>{r.push({text:"s_no"===e?n+1:void 0!==t[e]?t[e]:"",style:"tableBody"})})),e.push(r)})),e}const l=()=>{const e=100/n.length,t=n.length,o=[];for(let n=0;n<t;n++)o.push("".concat(e,"%"));return console.log(o),o};return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(u.fI,{children:(0,b.jsxs)(u.fv,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,b.jsxs)(u.$n,{style:{background:"green",border:"none",marginRight:"10px"},className:"shadow-none",onClick:function(){const e=document.createElement("a");let o=function(e){let t;const o=[],r=[];return n.forEach((e=>{o.push(e.name),r.push(e.selector)})),console.log(o),t="",t+=o.join(","),t+="\n",e.forEach(((e,n)=>{let o=0;r.forEach((r=>{o>0&&(t+=","),t+="s_no"===r?n+1:e[r]?e[r]:"",o++})),t+="\n"})),t}(t);if(null==o)return;o.match(/^data:text\/csv/i)||(o="data:text/csv;charset=utf-8,".concat(o)),e.setAttribute("href",encodeURI(o)),e.setAttribute("download","export.csv"),e.click()},children:[(0,b.jsx)(c,{})," Excel"]}),(0,b.jsxs)(u.$n,{style:{background:"#D11606",border:"none"},className:"shadow-none",onClick:()=>{const e={pageSize:"A4",header:(0,f.A)({findCompany:s}),pageMargins:[40,110,40,80],footer:x.A,content:[{table:{headerRows:1,dontBreakRows:!0,widths:l(),body:i()},layout:"lightHorizontalLines"}],styles:{tableHead:{border:[!1,!0,!1,!0],fillColor:"#eaf2f5",margin:[0,5,0,5],fontSize:10,bold:"true"},tableBody:{border:[!1,!0,!1,!0],margin:[0,5,0,5],fontSize:10}}};p().vfs=m.b.vfs,p().createPdf(e,null,null,m.b.vfs).open()},children:[(0,b.jsx)(d.A,{})," PDF"]})]})})})}},69197:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var o=n(65043),r=n(65173),a=n.n(r);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,a=e.size,l=void 0===a?24:a,c=i(e,["color","size"]);return o.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),o.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),o.createElement("polyline",{points:"13 2 13 9 20 9"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="File";const c=l},85594:(e,t,n)=>{var o,r;o=[n(58613),n(65219),n(56670)],void 0===(r=function(e){return function(e,t,n,o){"use strict";var r=e.fn.dataTable,a=n.createElement("a"),s=function(t){var n=e(t).clone()[0];return"link"===n.nodeName.toLowerCase()&&(n.href=i(n.href)),n.outerHTML},i=function(e){a.href=e;var t=a.host;return-1===t.indexOf("/")&&0!==a.pathname.indexOf("/")&&(t+="/"),a.protocol+"//"+t+a.pathname+a.search};return r.ext.buttons.print={className:"buttons-print",text:function(e){return e.i18n("buttons.print","Print")},action:function(n,r,a,l){var c=r.buttons.exportData(e.extend({decodeEntities:!1},l.exportOptions)),d=r.buttons.exportInfo(l),u=r.columns(l.exportOptions.columns).flatten().map((function(e){return r.settings()[0].aoColumns[r.column(e).index()].sClass})).toArray(),h=function(e,t){for(var n="<tr>",r=0,a=e.length;r<a;r++){var s=null===e[r]||e[r]===o?"":e[r];n+="<"+t+" "+(u[r]?'class="'+u[r]+'"':"")+">"+s+"</"+t+">"}return n+"</tr>"},p='<table class="'+r.table().node().className+'">';l.header&&(p+="<thead>"+h(c.header,"th")+"</thead>"),p+="<tbody>";for(var m=0,f=c.body.length;m<f;m++)p+=h(c.body[m],"td");p+="</tbody>",l.footer&&c.footer&&(p+="<tfoot>"+h(c.footer,"th")+"</tfoot>"),p+="</table>";var x=t.open("","");if(x){x.document.close();var v="<title>"+d.title+"</title>";e("style, link").each((function(){v+=s(this)}));try{x.document.head.innerHTML=v}catch(n){e(x.document.head).html(v)}x.document.body.innerHTML="<h1>"+d.title+"</h1><div>"+(d.messageTop||"")+"</div>"+p+"<div>"+(d.messageBottom||"")+"</div>",e(x.document.body).addClass("dt-print-view"),e("img",x.document.body).each((function(e,t){t.setAttribute("src",i(t.getAttribute("src")))})),l.customize&&l.customize(x,l,r);var b=function(){l.autoPrint&&(x.print(),x.close())};navigator.userAgent.match(/Trident\/\d.\d/)?b():x.setTimeout(b,1e3)}else r.buttons.info(r.i18n("buttons.printErrorTitle","Unable to open print view"),r.i18n("buttons.printErrorMsg","Please allow popups in your browser for this site to be able to view the print view."),5e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},r.Buttons}(e,window,document)}.apply(t,o))||(e.exports=r)}}]);
//# sourceMappingURL=8837.bc2e28e6.chunk.js.map