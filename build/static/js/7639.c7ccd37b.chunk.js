"use strict";(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[5841,7639],{628:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(86178);const a=n.n(r)()().format("DD-MM-YYYY h:mm:ss a")},10556:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(65043),a=n(65173),s=n.n(a);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,c=void 0===s?24:s,d=l(e,["color","size"]);return r.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),r.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));c.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},c.displayName="Edit2";const d=c},12997:()=>{},49664:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55613),a=n(70579);const s={textAlign:"right",marginRight:"10px"},i={outline:"none",border:"none"},l=e=>{let{children:t}=e;return(0,a.jsx)(r.Zp,{className:"shadow-none",children:(0,a.jsx)(r.bw,{style:s,children:(0,a.jsx)("div",{className:"btn btn-space text-nowrap shadow-none outline-none",style:i,children:t})})})}},62915:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(89379),a=n(65043),s=n(55613),i=n(28096),l=n(69197),c=n(86971),d=(n(90425),n(12997),n(77199)),o=n(26581),h=n(49664),u=n(16282),x=n(8006),j=n(71134),m=n(36762),p=n(70579);function g(e){let{contentDetails:t,handleInputs:n,sectionLinked:r}=e;return(0,p.jsx)("div",{children:(0,p.jsxs)(o.default,{title:"Magazine Details",creationModificationDate:t,children:[(0,p.jsx)(i.N9,{}),(0,p.jsxs)(s.fI,{children:[(0,p.jsx)(s.fv,{md:"3",children:(0,p.jsxs)(s.gE,{children:[(0,p.jsxs)(s.JU,{children:[" Title",(0,p.jsx)("span",{className:"required",children:" *"}),"  "]}),(0,p.jsx)(s.pd,{type:"text",onChange:n,value:t&&t.title,name:"title"})]})}),(0,p.jsx)(s.fv,{md:"3",children:(0,p.jsxs)(s.gE,{children:[(0,p.jsxs)(s.JU,{children:[" Year",(0,p.jsx)("span",{className:"required",children:" *"}),"  "]}),(0,p.jsx)(s.pd,{type:"text",onChange:n,value:t&&t.year,name:"year"})]})}),(0,p.jsx)(s.fv,{md:"3",children:(0,p.jsxs)(s.gE,{children:[(0,p.jsxs)(s.JU,{children:[" Month",(0,p.jsx)("span",{className:"required",children:" *"}),"  "]}),(0,p.jsxs)(s.pd,{type:"select",name:"month",value:t&&t.month,onChange:n,children:[(0,p.jsx)("option",{value:"",selected:"selected",children:"Please Select"}),r&&r.map((e=>(0,p.jsx)("option",{value:e.name,children:e.name})))]})]})})]})]})})}var f=n(51318),v=n(92195),y=n(10556),A=n(67330),w=n(95376);function b(e){let{editArticles:t}=e;const[n,r]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),c=e=>{l(e),r(!0)},d=[{name:"S.NO",grow:0,wrap:!0,width:"4%"},{name:"Edit",selector:"edit",cell:e=>(0,p.jsx)(f.N_,{to:"#",onClick:()=>c(e),children:(0,p.jsx)(v.A,{})}),grow:0,width:"auto",button:!0,sortable:!1},{name:"Title"},{name:"Author"},{name:"Delete"}];return(0,p.jsxs)(o.default,{children:[(0,p.jsx)(s.lV,{children:(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)(s.XI,{id:"example",children:[(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{children:d.map((e=>(0,p.jsx)("td",{children:e.name},e.name)))})}),(0,p.jsx)("tbody",{children:t&&t.map(((e,t)=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:t+1}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"anchor",children:(0,p.jsx)("span",{onClick:()=>c(e),style:{cursor:"pointer"},children:(0,p.jsx)(y.A,{})})})}),(0,p.jsx)("td",{children:e.title}),(0,p.jsx)("td",{children:e.author}),(0,p.jsx)("td",{children:(0,p.jsx)("span",{onClick:()=>{return t=e.article_id,void(window.confirm("Are you sure you want to delete this record?")?m.A.post("/content/deleteArticle",{article_id:t}).then((()=>{(0,j.A)("Record edited successfully","success"),window.location.reload()})).catch((()=>{(0,j.A)("Unable to delete record.","error")})):(0,j.A)("Deletion canceled","info"));var t},style:{cursor:"pointer"},children:(0,p.jsx)(A.A,{})})})]},e.article_id)))})]})})}),n&&i&&(0,p.jsx)(w.default,{updateAricles:n,setUpdateArticles:r,articleId:i.article_id})]})}var C=n(96406),k=n(1580),N=n(628),S=n(54410),z=n(77275),O=n(39956),E=n.n(O);function I(e){let{articleData:t,setArticleData:n,magazineId:i}=e;const[l,c]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[u,x]=(0,a.useState)({magazine_id:i}),g=e=>{const{name:t,value:n}=e.target;x((e=>(0,r.A)((0,r.A)({},e),{},{[t]:n})))};return(0,a.useEffect)((()=>{m.A.get("/content/getCategory",d).then((e=>{h(e.data.data)}))}),[i]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(s.aF,{size:"xl",isOpen:t,children:[(0,p.jsxs)(s.rQ,{children:["Create Article",(0,p.jsx)(s.$n,{className:"shadow-none",color:"secondary",onClick:()=>{n(!1)},children:"X"})]}),(0,p.jsx)(s.cw,{children:(0,p.jsx)(s.lV,{children:(0,p.jsxs)(s.gE,{children:[(0,p.jsxs)(s.fI,{children:[(0,p.jsx)(s.fv,{md:"3",children:(0,p.jsxs)(s.gE,{children:[(0,p.jsxs)(s.JU,{children:[" Title",(0,p.jsx)("span",{className:"required",children:" *"}),"  "]}),(0,p.jsx)(s.pd,{type:"text",onChange:g,value:u&&u.title,name:"title"})]})}),(0,p.jsx)(s.fv,{md:"3",children:(0,p.jsxs)(s.gE,{children:[(0,p.jsxs)(s.JU,{children:[" Author",(0,p.jsx)("span",{className:"required",children:" *"}),"  "]}),(0,p.jsx)(s.pd,{type:"text",onChange:g,value:u&&u.author,name:"author"})]})}),(0,p.jsx)(s.fv,{md:"3",children:(0,p.jsxs)(s.gE,{children:[(0,p.jsx)(s.JU,{children:"Category"}),(0,p.jsxs)(s.pd,{type:"select",name:"category_id",value:u&&u.category_id,onChange:g,children:[(0,p.jsx)("option",{value:"",selected:"selected",children:"Please Select"}),d&&d.map((e=>(0,p.jsx)("option",{value:e.category_id,children:e.category_title})))]})]})})]}),(0,p.jsx)(s.fI,{children:(0,p.jsx)(o.default,{title:"Description",children:(0,p.jsx)(z.Editor,{editorState:l,wrapperClassName:"demo-wrapper mb-0",editorClassName:"demo-editor border mb-4 edi-height",onEditorStateChange:e=>{((e,t)=>{x((0,r.A)((0,r.A)({},u),{},{[t]:E()((0,S.convertToRaw)(e.getCurrentContent()))}))})(e,"description"),c(e)}})})})]})})}),(0,p.jsxs)(s.jl,{children:[(0,p.jsxs)(s.$n,{className:"shadow-none",color:"primary",onClick:()=>{u.title&&u.author?m.A.post("/content/insertArticle",u).then((e=>{x(e.data.data),(0,j.A)("Article inserted successfully.","success"),window.location.reload()})).catch((()=>{(0,j.A)("Network connection error.","error")})):(0,j.A)("Please fill all required fields","warning")},children:[" ","Submit"," "]}),(0,p.jsx)(s.$n,{className:"shadow-none",color:"secondary",onClick:()=>{n(!1)},children:"Cancel"})]})]})})}const M=()=>{const[e,t]=(0,a.useState)(),[n,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)("1"),[A,w]=(0,a.useState)(""),[S,z]=(0,a.useState)(""),[O,E]=(0,a.useState)(!1),[M,D]=(0,a.useState)({modelType:""}),[T,_]=(0,a.useState)(!1),[P,J]=(0,a.useState)(!1),{id:L}=(0,c.g)(),U=(0,c.Zp)(),{loggedInuser:F}=(0,a.useContext)(k.A),R=()=>{""!==e.title?(e.modification_date=N.A,e.modified_by=F.first_name,m.A.post("/content/editMagazine",e).then((()=>{(0,j.A)("Record edited successfully","success")})).catch((()=>{(0,j.A)("Unable to edit record.","error")}))):(0,j.A)("Please fill all required fields","warning")},[$,q]=(0,a.useState)();return(0,a.useEffect)((()=>{m.A.post("/content/getMagazineById",{magazine_id:L}).then((e=>{t(e.data.data)})).catch((()=>{(0,j.A)("Content Data Not Found","info")})),m.A.post("/content/getArticleByMagazineId",{magazine_id:L}).then((e=>{_(e.data.data)})).catch((()=>{(0,j.A)("Content Data Not Found","info")})),m.A.get("/content/getMonth",$).then((e=>{q(e.data.data)}))}),[L]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.A,{heading:e&&e.title}),(0,p.jsx)(s.lV,{children:(0,p.jsxs)(s.gE,{children:[(0,p.jsx)(h.A,{children:(0,p.jsxs)(s.fI,{children:[(0,p.jsx)(s.fv,{children:(0,p.jsx)(s.$n,{color:"primary",onClick:()=>{R(),setTimeout((()=>{U("/Content")}),1100)},children:"Save"})}),(0,p.jsx)(s.fv,{children:(0,p.jsx)(s.$n,{color:"primary",onClick:()=>{R()},children:"Apply"})}),(0,p.jsx)(s.fv,{children:(0,p.jsx)(s.$n,{color:"dark",onClick:()=>{U("/Magazine"),console.log("back to list")},children:"Back to List"})})]})}),(0,p.jsx)(g,{contentDetails:e,handleInputs:n=>{t((0,r.A)((0,r.A)({},e),{},{[n.target.name]:n.target.value}))},sectionLinked:$})]})}),(0,p.jsx)(I,{articleData:n,setArticleData:f,magazineId:L}),(0,p.jsxs)(o.default,{title:"More Details",children:[(0,p.jsx)(i.N9,{}),(0,p.jsx)(C.A,{toggle:e=>{v!==e&&y(e)},tabs:[{id:"1",name:"Articles"},{id:"2",name:"Attachment"}]}),(0,p.jsxs)(s.JS,{className:"p-4",activeTab:v,children:[(0,p.jsxs)(s.mF,{tabId:"1",children:[(0,p.jsx)(s.fv,{children:(0,p.jsx)(s.$n,{className:"shadow-none",color:"primary",onClick:()=>{f(!0)},children:"Add Articles"})}),(0,p.jsx)(b,{editArticles:T})]}),(0,p.jsx)(s.mF,{tabId:"2",children:(0,p.jsx)(s.lV,{children:(0,p.jsx)(s.gE,{children:(0,p.jsxs)(o.default,{title:"Attachments",children:[(0,p.jsx)(s.fI,{children:(0,p.jsx)(s.fv,{xs:"12",md:"3",className:"mb-3",children:(0,p.jsx)(s.$n,{className:"shadow-none",color:"primary",onClick:()=>{w("MagazineAttachment"),z(["JPG","JPEG","PNG","GIF","PDF"]),D({modelType:"attachment"}),E(!0)},children:(0,p.jsx)(l.A,{className:"rounded-circle",width:"20"})})})}),(0,p.jsx)(x.A,{moduleId:L,attachmentModal:O,setAttachmentModal:E,roomName:A,fileTypes:S,altTagData:"MagazineRelated Data",desc:"MagazineRelated Data",recordType:"MagazineRelatedPicture",mediaType:M.modelType,update:P,setUpdate:J}),(0,p.jsx)(u.A,{moduleId:L,roomName:"MagazineAttachment",recordType:"MagazineRelatedPicture",update:P,setUpdate:J})]})})})})]})]})]})}},77199:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55613),a=n(86971),s=n(51318),i=n(70579);const l=e=>{const t=(0,a.zy)(),n=t.pathname.split("/")[1],l=t.pathname.split("/")[2];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:e.heading}),(0,i.jsxs)(r.Qp,{children:[(0,i.jsx)(r.J5,{to:"/",tag:s.N_,className:"text-decoration-none",children:"Home"}),n?(0,i.jsx)(r.J5,{active:!0,children:n}):"",l?(0,i.jsx)(r.J5,{active:!0,children:l}):""]})]})}},90425:()=>{},92195:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(65043),a=n(65173),s=n.n(a);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,c=void 0===s?24:s,d=l(e,["color","size"]);return r.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),r.createElement("path",{d:"M12 20h9"}),r.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))}));c.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},c.displayName="Edit3";const d=c},96406:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(65043),a=n(55613),s=n(51318),i=n(70579);function l(e){let{toggle:t,tabs:n}=e;const[l,c]=(0,s.ok)();return(0,r.useEffect)((()=>{t(l.get("tab"))}),[l.get("tab")]),(0,i.jsx)(a.so,{tabs:!0,children:null===n||void 0===n?void 0:n.map((e=>(0,i.jsx)(a.CI,{children:(0,i.jsx)(a.k2,{className:e.id===l.get("tab")?"active":"",onClick:()=>{c({tab:e.id}),t(e.id)},children:e.name},e.id)},e.id)))})}}}]);
//# sourceMappingURL=7639.c7ccd37b.chunk.js.map