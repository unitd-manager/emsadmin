"use strict";(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[5841,6263,6581,8222],{628:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(86178);const s=r.n(n)()().format("DD-MM-YYYY h:mm:ss a")},26581:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var n=r(55613),s=(r(65043),r(70579));function o(e){let{details:t=null,title:r}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.ZB,{tag:"h4",className:"border-bottom px-4 py-3 mb-0",children:(0,s.jsxs)(n.fI,{children:[(0,s.jsx)(n.fv,{children:r}),t&&(0,s.jsxs)(n.fv,{children:[(0,s.jsx)(n.fI,{children:(0,s.jsxs)("small",{children:[" Creation: ",t&&t.created_by," ",t&&t.creation_date]})}),(0,s.jsx)(n.fI,{className:"d-flex",children:(0,s.jsxs)("small",{children:[" Modified: ",t&&t.modified_by," ",t&&t.modification_date]})})]})]})})})}const i=e=>{let{children:t,title:r,subtitle:i,creationModificationDate:c}=e;return(0,s.jsxs)(n.Zp,{className:"shadow-none",children:[(0,s.jsx)(o,{details:c,title:r}),(0,s.jsxs)(n.bw,{className:"p-4",children:[(0,s.jsx)(n.jq,{className:"text-muted mb-3",children:i||""}),(0,s.jsx)("div",{children:t})]})]})}},48702:(e,t,r)=>{r.d(t,{A:()=>h});r(65043);var n=r(86971),s=r(55613),o=r(30064),i=r.n(o),c=r(67330),a=r(36762),l=r(71134),d=r(70579);const h=e=>{let{id:t,columnname:r,tablename:o,ifpiture:h=!1,ifAttachment:u=!1,pictureroom:p,attachmentroom:x}=e;const m=(0,n.Zp)(),j=(e,t)=>{a.A.post("/file/deleteFileByRoomNameAndId",{room_name:t,record_id:e}).then((e=>{200===e.status?((0,l.A)("Media and Records files deleted.","error"),m(-1)):(0,l.A)("Unable to delete record.","error")})).catch((()=>{(0,l.A)("Network connection error.")}))},g=()=>{i().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&a.A.post("/commonApi/deleteRecord",{idvalue:t,columnname:r,tablename:o}).then((e=>{200===e.status?h?j(t,p):u?j(t,x):((0,l.A)("Record deleted successfully."),m(-1)):(0,l.A)("Unable to delete record.","error")})).catch((()=>{(0,l.A)("Network connection error.")}))}))};return(0,d.jsxs)(s.$n,{color:"danger",onClick:()=>{g()},children:["Delete ",(0,d.jsx)(c.A,{size:20})]})}},49664:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(55613),s=r(70579);const o={textAlign:"right",marginRight:"10px"},i={outline:"none",border:"none"},c=e=>{let{children:t}=e;return(0,s.jsx)(n.Zp,{className:"shadow-none",children:(0,s.jsx)(n.bw,{style:o,children:(0,s.jsx)("div",{className:"btn btn-space text-nowrap shadow-none outline-none",style:i,children:t})})})}},67330:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(65043),s=r(65173),o=r.n(s);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var a=(0,n.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,o=e.size,a=void 0===o?24:o,l=c(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.createElement("polyline",{points:"3 6 5 6 21 6"}),n.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),n.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),n.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Trash2";const l=a},71134:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(28096);r(92342);const s=(e,t)=>"success"===t?n.oR.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"error"===t?n.oR.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"info"===t?n.oR.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"warning"===t?n.oR.warning(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):(0,n.oR)(e)},77199:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(55613),s=r(86971),o=r(51318),i=r(70579);const c=e=>{const t=(0,s.zy)(),r=t.pathname.split("/")[1],c=t.pathname.split("/")[2];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:e.heading}),(0,i.jsxs)(n.Qp,{children:[(0,i.jsx)(n.J5,{to:"/",tag:o.N_,className:"text-decoration-none",children:"Home"}),r?(0,i.jsx)(n.J5,{active:!0,children:r}):"",c?(0,i.jsx)(n.J5,{active:!0,children:c}):""]})]})}},82435:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(89379),s=r(65043),o=r(55613),i=r(58613),c=r(86971),a=r(28096),l=r(32216),d=r(26581),h=r(77199),u=r(36762),p=r(628),x=r(71134),m=r(49664),j=r(48702),g=r(70579);const f=function(e){let{id:t,applyChanges:r,backToList:n,editUserGroupData:s,editRoomUserGroup:i,navigate:c}=e;return(0,g.jsx)("div",{children:(0,g.jsx)(o.lV,{children:(0,g.jsx)(o.gE,{children:(0,g.jsx)(m.A,{children:(0,g.jsxs)(o.fI,{children:[(0,g.jsx)(o.fv,{children:(0,g.jsx)(o.$n,{className:"shadow-none",color:"primary",onClick:()=>{s(),i(),setTimeout((()=>{c("/UserGroup")}),300)},children:"Save"})}),(0,g.jsx)(o.fv,{children:(0,g.jsx)(o.$n,{className:"shadow-none",color:"primary",onClick:()=>{s(),i(),r()},children:"Apply"})}),(0,g.jsx)(o.fv,{children:(0,g.jsx)(o.$n,{className:"shadow-none",color:"dark",onClick:()=>{window.confirm("Are you sure you want to cancel  \n  \n You will lose any changes made")?c("/UserGroup"):r()},children:"Cancel"})}),(0,g.jsx)(o.fv,{children:(0,g.jsx)(j.A,{id:t,columnname:"user_group_id",tablename:"user_group"})}),(0,g.jsx)(o.fv,{children:(0,g.jsx)(o.$n,{className:"shadow-none",color:"dark",onClick:()=>{n()},children:"Back to List"})})]})})})})})};var v=r(1580);const b=()=>{const[e,t]=(0,s.useState)({}),[r,m]=(0,s.useState)([]),{loggedInuser:j}=s.useContext(v.A),{setUser:b}=(0,l.usePermify)(),{id:y}=(0,c.g)(),k=(0,c.Zp)(),A=r=>{t((0,n.A)((0,n.A)({},e),{},{[r.target.name]:r.target.value}))},C=()=>{u.A.post("/usergroup/getroomusergroupById",{user_group_id:y}).then((e=>{if(m(e.data.data),y===j.user_group_id){const t=e.data.data,r=[];t.forEach((e=>{e.edit&&r.push("".concat(e.section_title,"-edit")),e.detail&&r.push("".concat(e.section_title,"-detail")),e.duplicate&&r.push("".concat(e.section_title,"-duplicate")),e.export&&r.push("".concat(e.section_title,"-export")),e.import&&r.push("".concat(e.section_title,"-import")),e.list&&r.push("".concat(e.section_title,"-list")),e.new&&r.push("".concat(e.section_title,"-new")),e.print&&r.push("".concat(e.section_title,"-print")),e.publish&&r.push("".concat(e.section_title,"-publish")),e.remove&&r.push("".concat(e.section_title,"-remove"))})),b({id:"1",roles:["admin"],permissions:r})}})).catch((()=>{(0,x.A)("Unable to get room user record.","error")}))},_=e=>{u.A.post("/usergroup/edit-roomusergroup",e).then((()=>{(0,x.A)("Record edited successfully","success"),C()})).catch((()=>{(0,x.A)("Unable to edit record.","error")}))},w=(e,t)=>{t=(0,n.A)((0,n.A)({},t),{},{modification_date:p.A}),t=(0,n.A)((0,n.A)({},t),{},{[e.target.name]:!0===e.target.checked?1:0}),console.log(t),t.room_user_group_id?_(t):(e=>{u.A.post("/usergroup/insertRoomUserGroup",e).then((()=>{(0,x.A)("Record edited successfully","success"),C()})).catch((()=>{(0,x.A)("Unable to edit record.","error")}))})(t=(0,n.A)((0,n.A)({},t),{},{user_group_id:y}))};return(0,s.useEffect)((()=>{u.A.post("/usergroup/getusergroupById",{user_group_id:y}).then((e=>{t(e.data.data[0])})).catch((()=>{(0,x.A)("userGroupDetails Data Not Found","info")})),C()}),[y]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"MainDiv",children:(0,g.jsxs)("div",{className:"",children:[(0,g.jsx)(a.N9,{}),(0,g.jsxs)(o.fI,{children:[(0,g.jsx)(h.A,{heading:e&&e.title}),(0,g.jsx)(f,{id:y,applyChanges:()=>{},backToList:()=>{k("/UserGroup")},deleteUserGroupData:()=>{u.A.post("/usergroup/deleteUserGroup",{user_group_id:y}).then((()=>{(0,x.A)("Record deleted successfully","success")})).catch((()=>{(0,x.A)("Unable to delete record.","error")}))},editUserGroupData:()=>{u.A.post("/usergroup/edit-usergroup",e).then((()=>{(0,x.A)("Record edited successfully","success")})).catch((()=>{(0,x.A)("Unable to edit record.","error")}))},editRoomUserGroup:()=>{const e=[];i("#example tbody tr").each((()=>{const t={};i(void 0).find("input").each((()=>{const e=i(void 0).attr("name");t.user_group_id=y,t[e]=i(void 0).val()})),e.push(t)})),console.log(e),e.forEach((e=>{_(e)}))},navigate:k}),(0,g.jsx)(o.lV,{children:(0,g.jsx)(o.gE,{children:(0,g.jsx)(d.default,{title:"UserGroup Details",children:(0,g.jsxs)(o.fI,{children:[(0,g.jsx)(o.fv,{md:"6",children:(0,g.jsxs)(o.gE,{children:[(0,g.jsx)(o.JU,{children:"Title"}),(0,g.jsx)(o.pd,{type:"text",value:e&&e.section_title,onChange:A,name:"title"})]})}),(0,g.jsx)(o.fv,{md:"6",children:(0,g.jsxs)(o.gE,{children:[(0,g.jsx)(o.JU,{children:"UserGroup Type"}),(0,g.jsxs)(o.pd,{type:"select",value:e&&e.user_group_type,onChange:A,name:"user_group_type",children:[(0,g.jsx)("option",{value:"Super Administrator",defaultValue:"selected",children:"Super Administrator"}),(0,g.jsx)("option",{value:"Administrator",children:"Administrator"}),(0,g.jsx)("option",{value:"User",children:"User"})]})]})})]})})})})]}),(0,g.jsx)(d.default,{title:"Actions",children:(0,g.jsxs)(o.XI,{id:"example",className:"display border border-secondary rounded",children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{children:[{name:"room name"},{name:"list"},{name:"detail"},{name:"new"},{name:"edit"},{name:"delete"},{name:"publish"},{name:"un-publish"},{name:"print"},{name:"import"},{name:"export"}].map((e=>(0,g.jsx)("td",{children:e.name},e.name)))})}),(0,g.jsx)("tbody",{children:(0,g.jsx)("tr",{className:"w-100 bg-primary text-white",children:(0,g.jsx)("td",{children:"Modules"})})}),(0,g.jsx)("tbody",{children:r&&r.map((e=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)(o.pd,{type:"text",name:"section_title",value:e.section_title,disabled:!0})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"list",onChange:t=>{w(t,e)},defaultChecked:e.list})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"detail",onChange:t=>{w(t,e)},defaultChecked:e.detail})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"new",onChange:t=>{w(t,e)},defaultChecked:e.new})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"edit",onChange:t=>{w(t,e)},defaultChecked:e.edit})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"remove",onChange:t=>{w(t,e)},defaultChecked:e.remove})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"publish",onChange:t=>{w(t,e)},defaultChecked:e.publish})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"unpublish",onChange:t=>{w(t,e)},defaultChecked:e.unpublish})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"print",onChange:t=>{w(t,e)},defaultChecked:e.print})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"import",onChange:t=>{w(t,e)},defaultChecked:e.import})})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.gE,{check:!0,children:(0,g.jsx)(o.pd,{type:"checkbox",value:"1",name:"export",onChange:t=>{w(t,e)},defaultChecked:e.export})})})]},e.section_id)))}),(0,g.jsx)("tbody",{children:(0,g.jsx)("tr",{className:"bg-primary text-white w-100",children:(0,g.jsx)("td",{children:"Reports / Widgets"})})})]})})]})})})}}}]);
//# sourceMappingURL=6263.f2df3be4.chunk.js.map