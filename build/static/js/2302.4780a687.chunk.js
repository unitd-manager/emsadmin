"use strict";(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[2302,5841,8222],{18064:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(89379),c=a(65043),n=a(55613),r=a(86971),d=a(24202),l=a(28096),i=a(71134),o=(a(38421),a(36762)),h=a(96406),u=a(89888),x=a(89378),j=a(16282),g=a(8006),y=a(26581),m=a(70579);const f=()=>{const[e,t]=(0,c.useState)({broadcast_id:"",city:""}),[a,f]=(0,c.useState)(),[v,p]=(0,c.useState)("1"),[A,C]=(0,c.useState)(!1),[b,k]=(0,c.useState)(""),[N,E]=(0,c.useState)(""),[_,S]=(0,c.useState)({modelType:""}),[w,I]=(0,c.useState)(!1),T=(0,r.Zp)(),[B,J]=(0,c.useState)(!1),[P,U]=(0,c.useState)([]),[D,M]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),V=()=>{J(!B)},{id:$}=(0,r.g)(),[L,O]=(0,c.useState)([]),[Z,q]=(0,c.useState)([]);console.log("",a);return(0,c.useEffect)((()=>{o.A.get("/valuelist/getCountryValuelist").then((e=>{console.log(e.data.data)})).catch((()=>{})),o.A.post("/content/getBroadCastcountryById",{broadcast_id:$}).then((e=>{q(e.data.data)})).catch((()=>{(0,i.A)("Milestone not found","info")}))}),[$]),(0,c.useEffect)((()=>{o.A.get("/valuelist/getCountryValuelist").then((e=>{G(e.data.data)})).catch((()=>{(0,i.A)("Milestone not found","info")})),o.A.post("/content/getBroadCastById",{broadcast_id:$}).then((e=>{f(e.data.data[0])})).catch((()=>{(0,i.A)("category Data Not Found","info")})),o.A.get("/valuelist/getCitiesvalue").then((e=>{U(e.data.data)})).catch((()=>{(0,i.A)("Task not found","info")}))}),[$]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"MainDiv",children:(0,m.jsxs)("div",{className:" pt-xs-25",children:[(0,m.jsx)("br",{}),(0,m.jsx)(u.A,{editCategoryData:()=>{""!==a.title?o.A.post("/content/editBroadCast",a).then((()=>{(0,i.A)("Record editted successfully","success")})).catch((()=>{(0,i.A)("Unable to edit record.","error")})):(0,i.A)("Please fill all required fields","warning")},navigate:T,applyChanges:()=>{},saveChanges:()=>{""!==a.category_title&&T("/BroadCast")},backToList:()=>{T("/BroadCast")},id:$}),(0,m.jsx)(x.A,{categoryDetails:a,handleInputs:e=>{f((0,s.A)((0,s.A)({},a),{},{[e.target.name]:e.target.value}))}}),(0,m.jsxs)(y.default,{title:"More Details",children:[(0,m.jsx)(l.N9,{}),(0,m.jsx)(h.A,{toggle:e=>{v!==e&&p(e)},tabs:[{id:"1",name:"Attachment"},{id:"2",name:"BroadCast List"}]}),(0,m.jsxs)(n.JS,{className:"p-4",activeTab:v,children:[(0,m.jsx)(n.mF,{tabId:"1",children:(0,m.jsx)(n.lV,{children:(0,m.jsxs)(n.gE,{children:[(0,m.jsx)(n.fI,{children:(0,m.jsx)(n.fv,{xs:"12",md:"3",className:"mb-3",children:(0,m.jsx)(n.$n,{className:"shadow-none",color:"primary",onClick:()=>{k("Category"),E(["JPG","JPEG","PNG","GIF","OGG","MP3","WAV","M4A"]),S({modelType:"picture"}),C(!0)},children:(0,m.jsx)(d.A,{className:"rounded-circle",width:"20"})})})}),(0,m.jsx)(g.A,{moduleId:$,attachmentModal:A,setAttachmentModal:C,roomName:b,fileTypes:N,altTagData:"Category Data",desc:"Category Data",recordType:"Picture",mediaType:_.modelType,update:w,setUpdate:I}),(0,m.jsx)(j.A,{moduleId:$,roomName:"Category",recordType:"Picture",update:w,setUpdate:I})]})})}),(0,m.jsxs)(n.mF,{tabId:"2",children:[(0,m.jsx)(n.lV,{children:(0,m.jsxs)(n.gE,{children:[(0,m.jsxs)(n.$n,{color:"primary",className:"shadow-none",onClick:V.bind(null),children:["Add New"," "]}),(0,m.jsxs)(n.aF,{size:"lg",isOpen:B,toggle:V.bind(null),children:[(0,m.jsx)(n.rQ,{toggle:V.bind(null),children:"New Task"}),(0,m.jsx)(n.cw,{children:(0,m.jsx)(n.fI,{children:(0,m.jsx)(n.fv,{md:"12",children:(0,m.jsx)(n.Zp,{children:(0,m.jsx)(n.bw,{children:(0,m.jsx)(n.lV,{children:(0,m.jsxs)(n.fI,{children:[(0,m.jsxs)(n.fv,{md:"4",children:[(0,m.jsx)(n.JU,{children:"Country"}),(0,m.jsx)(n.gE,{children:(0,m.jsxs)(n.pd,{type:"select",onChange:a=>{(a=>{t((0,s.A)((0,s.A)({},e),{},{[a.target.name]:a.target.value}))})(a)},value:e&&e.country,name:"country",children:[(0,m.jsx)("option",{value:"selected",children:"Please Select"}),F&&F.map((e=>(0,m.jsxs)("option",{value:e.value,children:[" ",e.value," "]},e.key_text)))]})})]}),e.country&&"selected"!==e.country&&(0,m.jsx)(n.fv,{md:"4",children:(0,m.jsxs)(n.gE,{children:[(0,m.jsx)(n.JU,{children:"cities"}),P&&P.map((e=>(0,m.jsx)(n.gE,{check:!0,children:(0,m.jsxs)(n.JU,{check:!0,children:[(0,m.jsx)(n.pd,{type:"checkbox",value:e.value,checked:D.includes(e.citi_value),onChange:t=>{const a=e.citi_value;t.target.checked?M([...D,a]):M(D.filter((e=>e!==a)))}}),e.citi_value]})},e.value)))]})})]})})})})})})}),(0,m.jsxs)(n.jl,{children:[(0,m.jsx)(n.$n,{className:"shadow-none",color:"primary",onClick:()=>{(async()=>{try{var t;if(0===D.length)return void(0,i.A)("Please select at least one task.","warning");const a=await o.A.post("/contact/getContactByCountrycities",{country:e.country,city:D.join(",")});null!==a&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.data&&a.data.data.length>0?(a.data.data.forEach((async t=>{const a=(0,s.A)((0,s.A)({},e),{},{contact_id:t.contact_id,city:D});a.broadcast_id=$;const c=await o.A.post("/content/insertBroadcastConntact",a);if(c.data.success){const e=c.data.data.insertId;console.log("Inserted data for contact_id ".concat(t.contact_id,": ").concat(e))}else console.error("Error inserting data for contact_id ".concat(t.contact_id)),(0,i.A)("Network connection error.","error")})),(0,i.A)("Contacts inserted successfully.","success"),M([])):(console.error("No contact records found for the selected country and city."),(0,i.A)("No contact records found for the selected country and city.","error"))}catch(a){console.error("Error inserting time sheets:",a),(0,i.A)("Error inserting time sheets.","error")}})()},children:"Submit"}),(0,m.jsx)(n.$n,{color:"secondary",className:"shadow-none",onClick:V.bind(null),children:"Cancel"})]})]})]})}),(0,m.jsxs)(y.default,{title:"Summary",children:[(0,m.jsx)(n.fv,{md:"2",children:(0,m.jsxs)(n.gE,{children:[(0,m.jsx)(n.JU,{children:"country"}),(0,m.jsxs)(n.pd,{type:"select",name:"country",onChange:e=>{var t;t=e.target.value,O("selected"===t?Z:Z.filter((e=>e.country===t)))},children:[(0,m.jsx)("option",{value:"",children:"Please Select"}),F&&F.map((e=>(0,m.jsxs)("option",{value:e.value,children:[" ",e.value," "]},e.key_text)))]})]})}),(0,m.jsx)("br",{}),(0,m.jsxs)(n.fI,{children:[(0,m.jsx)(n.fv,{children:(0,m.jsx)(n.gE,{children:(0,m.jsx)(n.JU,{children:"First Name"})})}),(0,m.jsx)(n.fv,{children:(0,m.jsx)(n.gE,{children:(0,m.jsx)(n.JU,{children:"Country"})})}),(0,m.jsx)(n.fv,{children:(0,m.jsx)(n.gE,{children:(0,m.jsx)(n.JU,{children:"city"})})})]}),L.map((e=>(0,m.jsxs)(n.fI,{children:[(0,m.jsx)(n.fv,{children:(0,m.jsx)(n.gE,{children:e&&e.first_name})}),(0,m.jsx)(n.fv,{children:(0,m.jsx)(n.gE,{children:e&&e.country})}),(0,m.jsx)(n.fv,{children:(0,m.jsx)(n.gE,{children:e&&e.city})})]},e.contact_id)))]})]})]})]})]})})})}},38421:()=>{},96406:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(65043),c=a(55613),n=a(51318),r=a(70579);function d(e){let{toggle:t,tabs:a}=e;const[d,l]=(0,n.ok)();return(0,s.useEffect)((()=>{t(d.get("tab"))}),[d.get("tab")]),(0,r.jsx)(c.so,{tabs:!0,children:null===a||void 0===a?void 0:a.map((e=>(0,r.jsx)(c.CI,{children:(0,r.jsx)(c.k2,{className:e.id===d.get("tab")?"active":"",onClick:()=>{l({tab:e.id}),t(e.id)},children:e.name},e.id)},e.id)))})}}}]);
//# sourceMappingURL=2302.4780a687.chunk.js.map