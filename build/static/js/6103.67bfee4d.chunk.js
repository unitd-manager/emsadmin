(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[5841,6103,6581],{8006:(e,t,d)=>{"use strict";d.d(t,{A:()=>c});var s=d(65043),r=d(55613),n=d(98536),a=d(36762),i=d(71134),l=d(70579);const c=e=>{let{attachmentModal:t,setAttachmentModal:d,moduleId:c,roomName:o,fileTypes:h,altTagData:u,desc:p}=e;const[x,m]=(0,s.useState)([]),[j,y]=(0,s.useState)(),[f,g]=(0,s.useState)(null);return(0,l.jsx)("div",{children:(0,l.jsxs)(r.aF,{isOpen:t,children:[(0,l.jsx)(r.rQ,{children:"Upload Media"}),(0,l.jsxs)(r.cw,{children:[(0,l.jsxs)(r.gE,{children:[(0,l.jsx)(n.l,{multiple:!0,handleChange:e=>{const t=Object.entries(e).map((e=>e[1]));m(e),y(t),console.log(e)},name:"file",types:h}),j?j.map((e=>(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[" Name: ",e.name," "]})}))):(0,l.jsx)("span",{children:"No file selected"})]}),f&&(0,l.jsx)("div",{className:"progress mt-2",children:(0,l.jsx)("div",{className:"progress-bar h-4",role:"progressbar","aria-valuenow":f,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(f,"%")},children:"".concat(f,"% uploaded")})})]}),(0,l.jsxs)(r.jl,{children:[(0,l.jsx)(r.$n,{color:"primary",className:"shadow-none",onClick:()=>{(()=>{if(x){const e=new FormData;Object.entries(x).map((e=>e[1])).forEach((t=>{e.append("files",t)})),e.append("record_id",c),e.append("room_name",o),e.append("alt_tag_data",u),e.append("description",p),a.A.post("/file/uploadFiles",e,{onUploadProgress:e=>{console.log(Math.round(e.loaded/e.total*100)),g(Math.round(e.loaded/e.total*100))}}).then((()=>{(0,i.A)("Files Uploaded Successfully","success")})).catch((()=>{d(!1),(0,i.A)("Unable to upload File","error")}))}else(0,i.A)("No files selected","info")})()},children:"Upload"}),(0,l.jsx)(r.$n,{color:"secondary",className:"shadow-none",onClick:()=>{window.location.reload(),d(!1)},children:"Cancel"})]})]})})}},12997:()=>{},16282:(e,t,d)=>{"use strict";d.d(t,{A:()=>o});var s=d(65043),r=d(30064),n=d.n(r),a=d(67330),i=d(71134),l=d(36762),c=d(70579);const o=function(e){let{moduleId:t,roomName:d}=e;const r={},[o,h]=(0,s.useState)(null);return(0,s.useEffect)((()=>{l.A.post("/file/getListOfFiles",{record_id:t,room_name:d}).then((e=>{h(e.data)}))}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("table",{style:r,children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{style:r,children:[(0,c.jsx)("th",{style:r,children:"File Name"}),(0,c.jsx)("th",{width:"5%"})]})}),(0,c.jsx)("tbody",{children:o?o.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{style:r,children:(0,c.jsx)("a",{href:"https://ems.unitdtechnologies.com/storage/".concat(e.name),target:"_blank",rel:"noreferrer",children:(0,c.jsx)("img",{src:"https://ems.unitdtechnologies.com/storage/".concat(e.name),width:200,height:200,alt:"".concat(e.name)})})}),(0,c.jsx)("td",{style:r,children:(0,c.jsxs)("button",{type:"button",className:"btn shadow-none",onClick:()=>{var t;t=e.media_id,n().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&l.A.post("/file/deleteFile",{media_id:t}).then((e=>{console.log(e),n().fire("Deleted!","Media has been deleted.","success"),window.location.reload()})).catch((()=>{(0,i.A)("Unable to Delete Media","info")}))}))},children:[(0,c.jsx)(a.A,{})," "]})})]},e.media_id))):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{children:(0,c.jsx)("p",{children:"no files uploaded yet"})})})})]})})}},26581:(e,t,d)=>{"use strict";d.r(t),d.d(t,{default:()=>a});var s=d(55613),r=(d(65043),d(70579));function n(e){let{details:t=null,title:d}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.ZB,{tag:"h4",className:"border-bottom px-4 py-3 mb-0",children:(0,r.jsxs)(s.fI,{children:[(0,r.jsx)(s.fv,{children:d}),t&&(0,r.jsxs)(s.fv,{children:[(0,r.jsx)(s.fI,{children:(0,r.jsxs)("small",{children:[" Creation: ",t&&t.created_by," ",t&&t.creation_date]})}),(0,r.jsx)(s.fI,{className:"d-flex",children:(0,r.jsxs)("small",{children:[" Modified: ",t&&t.modified_by," ",t&&t.modification_date]})})]})]})})})}const a=e=>{let{children:t,title:d,subtitle:a,creationModificationDate:i}=e;return(0,r.jsxs)(s.Zp,{className:"shadow-none",children:[(0,r.jsx)(n,{details:i,title:d}),(0,r.jsxs)(s.bw,{className:"p-4",children:[(0,r.jsx)(s.jq,{className:"text-muted mb-3",children:a||""}),(0,r.jsx)("div",{children:t})]})]})}},41234:()=>{},57624:(e,t,d)=>{"use strict";d.r(t),d.d(t,{default:()=>G});var s=d(89379),r=d(65043),n=d(6967),a=d(55613),i=d(28096),l=d(30064),c=d.n(l),o=d(86971),h=(d(90425),d(12997),d(86178)),u=d.n(h),p=d(77199),x=d(96391),m=d(93635),j=d(26581),y=d(71134),f=d(36762),g=d(51318),v=d(58613),_=d(38432),b=d(29462),A=d(70579);const P=e=>{let{projectId:t,supplierId:d,addPurchaseOrderModal:n,setAddPurchaseOrderModal:i,PurchaseOrderId:l}=e;const[c,o]=(0,r.useState)(!1),[h,u]=(0,r.useState)(),[p,x]=(0,r.useState)({category_id:null,sub_category_id:null,title:"",product_code:"",qty_in_stock:null,price:null,published:0}),[m,j]=(0,r.useState)([{id:_.Ay.int(1,99).toString(),itemId:"",unit:"",qty:"",price:"",mrp:"",gst:"",description:""},{id:_.Ay.int(0,9999).toString(),itemId:"",unit:"",qty:"",price:"",mrp:"",gst:"",description:""},{id:_.Ay.int(0,9999).toString(),itemId:"",unit:"",qty:"",price:"",mrp:"",gst:"",description:""}]),[P]=(0,r.useState)({po_code:"",supplier_id:d,contact_id_supplier:"",delivery_terms:"",status:"test",project_id:t,flag:1,creation_date:new Date,modification_date:new Date,created_by:"1",modified_by:"1",supplier_reference_no:"",our_reference_no:"",shipping_method:"",payment_terms:"",delivery_date:"",po_date:"",shipping_address_flat:"",shipping_address_street:"",shipping_address_country:"",shipping_address_po_code:"",expense_id:0,staff_id:0,purchase_order_date:new Date,payment_status:"0",title:"Purchase Order",priority:"1",follow_up_date:new Date,notes:"test",supplier_inv_code:"",gst:0,gst_percentage:"10%",delivery_to:"",contact:"",mobile:"",payment:"0",project:""}),C=()=>{f.A.get("/product/getProducts").then((e=>{const t=e.data.data,d=[];t.forEach((e=>{d.push({value:e.product_id,label:e.title})})),u(d)}))},S=()=>{const e=[],t=m;v(".lineitem tbody tr").each((()=>{const t={};v(void 0).find("input").each((()=>{const e=v(void 0).attr("name");t[e]=v(void 0).val()})),e.push(t)})),t.forEach((e=>{if(e.id){const s=t.find((t=>t.id===e.id));s&&(e.product_id=s.product_id,e.title=s.title,e.item_title=s.item_title),d=s,f.A.post("/purchaseorder/insertPoProduct",{purchase_order_id:l,item_title:d.title,quantity:d.qty,unit:d.unit,amount:0,description:d.description,creation_date:new Date,modification_date:new Date,created_by:"1",modified_by:"1",status:"In Progress",cost_price:d.cost_price,selling_price:d.mrp,qty_updated:parseInt(d.qty,10),qty:parseInt(d.qty,10),product_id:d.product_id,supplier_id:P.supplier_id,gst:d.gst,damage_qty:0,brand:"",qty_requested:0,qty_delivered:0,price:d.price}).then((()=>{(0,y.A)("Product Added!","success"),setTimeout((()=>{window.location.reload()}),300)})).catch((()=>{(0,y.A)("Unable to add Product!","error")}))}var d}))};function w(e,t,d){const r=[...m],n=(0,s.A)((0,s.A)({},r[e]),{},{[t]:d.target.value});r[e]=n,j(r)}(0,r.useEffect)((()=>{C(),f.A.get("/purchaseorder/TabPurchaseOrderLineItem").then((e=>{const t=e.data.data,d=[];t.forEach((e=>{d.push({value:e.product_id,label:e.title})}))})).catch((()=>{(0,y.A)("Tab Purchase Order not found","info")}))}),[]),(0,r.useEffect)((()=>{j([{id:_.Ay.int(1,99).toString(),itemId:"",unit:"",qty:"",price:"",mrp:"",gst:"",description:""},{id:_.Ay.int(0,9999).toString(),itemId:"",unit:"",qty:"",price:"",mrp:"",gst:"",description:""},{id:_.Ay.int(0,9999).toString(),itemId:"",unit:"",qty:"",price:"",mrp:"",gst:"",description:""}])}),[n]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(a.aF,{size:"xl",isOpen:n,children:[(0,A.jsx)(a.rQ,{children:"Add Product"}),(0,A.jsx)(a.cw,{children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.fI,{children:(0,A.jsxs)(a.fv,{md:"12",className:"mb-4",children:[(0,A.jsxs)(a.fI,{children:[(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsx)(a.$n,{color:"primary",className:"shadow-none",onClick:()=>{o(!0)},children:"Add New Product"})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsx)(a.$n,{color:"primary",className:"shadow-none",onClick:()=>{j([...m,{id:_.Ay.int(0,9999).toString(),itemId:"",unit:"",qty:"",price:"",mrp:"",gst:"",description:""}])},children:"Add Item"})})]}),(0,A.jsx)("br",{})]})}),(0,A.jsxs)("table",{className:"lineitem",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"",children:[(0,A.jsx)("th",{width:"20%",scope:"col",children:"Item"}),(0,A.jsx)("th",{scope:"col",children:"Unit"}),(0,A.jsx)("th",{scope:"col",children:"Quantity"}),(0,A.jsx)("th",{scope:"col",children:"Cost Price (without GST)"}),(0,A.jsx)("th",{scope:"col",children:"Selling Price (without GST)"}),(0,A.jsx)("th",{scope:"col",children:"GST"}),(0,A.jsx)("th",{scope:"col"})]})}),(0,A.jsx)("tbody",{children:m.map(((e,t)=>(0,A.jsxs)("tr",{children:[(0,A.jsxs)("td",{"data-label":"title",children:[(0,A.jsx)(b.Ay,{defaultValue:{value:e.product_id,label:e.title},onChange:t=>{((e,t)=>{const d=m.find((e=>e.id===t));d.title=e.label,d.item_title=e.label,d.product_id=e.value.toString(),j(m)})(t,e.id)},options:h},e.id),(0,A.jsx)(a.pd,{value:e.product_id,type:"hidden",name:"product_id"}),(0,A.jsx)(a.pd,{value:e.title,type:"hidden",name:"title"})]}),(0,A.jsx)("td",{"data-label":"Unit",children:(0,A.jsx)(a.pd,{defaultValue:e.uom,type:"text",name:"unit",onChange:e=>w(t,"unit",e),value:P&&P.unit})}),(0,A.jsx)("td",{"data-label":"Qty",children:(0,A.jsx)(a.pd,{defaultValue:e.qty,type:"number",name:"qty",onChange:e=>w(t,"qty",e),value:P&&P.qty})}),(0,A.jsx)("td",{"data-label":"Cost Price",children:(0,A.jsx)(a.pd,{defaultValue:e.cost_price,type:"number",onChange:e=>w(t,"cost_price",e),value:P&&P.cost_price,name:"cost_price"})}),(0,A.jsxs)("td",{"data-label":"Selling Price",children:[(0,A.jsx)(a.pd,{type:"input",defaultValue:e.price,name:"mrp",onChange:e=>w(t,"mrp",e),value:P&&P.mrp}),e.price]}),(0,A.jsx)("td",{"data-label":"GST",children:(0,A.jsx)(a.pd,{type:"number",defaultValue:e.gst,name:"gst",onChange:e=>w(t,"gst",e),value:P&&P.gst})}),(0,A.jsxs)("td",{"data-label":"Action",children:[" ",(0,A.jsx)(a.pd,{defaultValue:e.id,type:"hidden",name:"id"}),(0,A.jsx)(g.N_,{to:"",children:(0,A.jsx)("span",{onClick:()=>{var t;t=e,j((e=>e.filter((e=>e.id!==t.id))))},children:"Clear"})})]})]},e.id)))})]})]})}),(0,A.jsxs)(a.jl,{children:[(0,A.jsx)(a.$n,{color:"primary",className:"shadow-none",onClick:()=>{S(),C()},children:"Submit"}),(0,A.jsx)(a.$n,{color:"secondary",className:"shadow-none",onClick:()=>{i(!1)},children:"Cancel"})]})]}),(0,A.jsxs)(a.aF,{isOpen:c,children:[(0,A.jsx)(a.rQ,{children:"Add New Products"}),(0,A.jsx)(a.cw,{children:(0,A.jsx)(a.gE,{children:(0,A.jsx)(a.fI,{children:(0,A.jsx)(a.fv,{md:"12",className:"mb-4",children:(0,A.jsx)(a.fI,{children:(0,A.jsx)(a.gE,{children:(0,A.jsxs)(a.fI,{children:[(0,A.jsxs)(a.JU,{sm:"3",children:["Product Name ",(0,A.jsx)("span",{className:"required",children:" *"})]}),(0,A.jsx)(a.fv,{sm:"8",children:(0,A.jsx)(a.pd,{type:"text",name:"title",onChange:e=>{x((0,s.A)((0,s.A)({},p),{},{[e.target.name]:e.target.value}))},value:p.title})})]})})})})})})}),(0,A.jsxs)(a.jl,{children:[(0,A.jsx)(a.$n,{color:"primary",className:"shadow-none",onClick:()=>{o(!1),f.A.post("/purchaseorder/insertPurchaseProduct",p).then((e=>{const t=e.data.data.insertId;(0,y.A)("Product inserted successfully.","success"),f.A.post("/inventory/insertinventory",{product_id:t}).then((()=>{(0,y.A)("inventory created successfully.","success"),C()})).catch((()=>{(0,y.A)("Unable to create inventory.","error")}))})).catch((()=>{(0,y.A)("Unable to insert product.","error")})),C(),setTimeout((()=>{window}),300)},children:"Submit"}),(0,A.jsx)(a.$n,{color:"secondary",className:"shadow-none",onClick:()=>{o(!1)},children:"Cancel"})]})]})]})};var C=d(24202),S=d(69197),w=d(8006),N=d(16282);const I=function(e){let{dataForPicture:t,dataForAttachment:d,setAttachmentModal:s,id:n,attachmentModal:i,pictureData:l,attachmentData:c}=e;const[o,h]=(0,r.useState)(""),[u,p]=(0,r.useState)("");return(0,A.jsx)("div",{children:(0,A.jsxs)(a.fI,{children:[(0,A.jsx)(a.fv,{md:"6",children:(0,A.jsx)(a.lV,{children:(0,A.jsx)(a.gE,{children:(0,A.jsxs)(j.default,{title:"Picture",children:[(0,A.jsx)(a.fI,{children:(0,A.jsx)(a.fv,{xs:"12",md:"6",className:"mb-3",children:(0,A.jsx)(a.$n,{className:"shadow-none",color:"primary",onClick:()=>{h("PurchaseorderPic"),p(["JPG","PNG","GIF"]),t(),s(!0)},children:(0,A.jsx)(C.A,{className:"rounded-circle",width:"20"})})})}),(0,A.jsx)(w.A,{moduleId:n,attachmentModal:i,setAttachmentModal:s,roomName:o,fileTypes:u,altTagData:"Product Data",desc:"Product Data",recordType:"Picture",mediaType:l.modelType}),(0,A.jsx)(N.A,{moduleId:n,roomName:"PurchaseorderPic",recordType:"Picture"})]})})})}),(0,A.jsx)(a.fv,{md:"6",children:(0,A.jsx)(a.lV,{children:(0,A.jsx)(a.gE,{children:(0,A.jsxs)(j.default,{title:"Attachments",children:[(0,A.jsx)(a.fI,{children:(0,A.jsx)(a.fv,{xs:"12",md:"6",className:"mb-3",children:(0,A.jsx)(a.$n,{className:"shadow-none",color:"primary",onClick:()=>{h("PurchaseorderAttachment"),p(["JPG","PNG","GIF","PDF"]),d(),s(!0)},children:(0,A.jsx)(S.A,{className:"rounded-circle",width:"20"})})})}),(0,A.jsx)(w.A,{moduleId:n,attachmentModal:i,setAttachmentModal:s,roomName:o,fileTypes:u,altTagData:"ProductRelated Data",desc:"ProductRelated Data",recordType:"RelatedPicture",mediaType:c.modelType}),(0,A.jsx)(N.A,{moduleId:n,roomName:"PurchaseorderAttachment",recordType:"RelatedPicture"})]})})})})]})})},k=e=>{let{product:t,editModal:d,editPoProductData:s,setEditModal:r,handlePOInputs:n}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(a.aF,{isOpen:d,children:[(0,A.jsxs)(a.rQ,{children:["Edit Product",(0,A.jsx)(a.$n,{className:"shadow-none",color:"secondary",onClick:()=>{r(!1)},children:"X"})]}),(0,A.jsx)(a.cw,{children:(0,A.jsx)(a.fI,{children:(0,A.jsx)(a.fv,{md:"12",children:(0,A.jsx)(a.bw,{children:(0,A.jsx)(a.lV,{children:(0,A.jsxs)(a.fI,{children:[(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Qty"}),(0,A.jsx)(a.pd,{type:"text",name:"qty",onChange:n,value:t&&t.qty})]}),(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Damaged Quantity"}),(0,A.jsx)(a.pd,{type:"text",name:"damage_qty",onChange:n,value:t&&t.damage_qty})]}),(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Add to Stock"}),(0,A.jsx)(a.pd,{type:"text",name:"qty_delivered",onChange:n,value:t&&t.qty_delivered})]}),(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Cost Price"}),(0,A.jsx)(a.pd,{type:"number",name:"cost_price",onChange:n,value:t&&t.cost_price,onBlur:()=>{(()=>{const e=[];v(".lineitem tbody tr").each((()=>{const t={};v(void 0).find("input").each((()=>{const e=v(void 0).attr("name");t[e]=v(void 0).val(),t.price=t.qty*t.cost_price})),e.push(t)}))})()}})]}),(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Selling Price"}),(0,A.jsx)(a.pd,{type:"number",name:"selling_price",onChange:n,value:t&&t.selling_price})]}),(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"GST%"}),(0,A.jsx)(a.pd,{type:"number",name:"gst",onChange:n,value:t&&t.gst})]}),(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Status"}),(0,A.jsxs)(a.pd,{type:"select",value:t&&t.status,name:"status",onChange:n,children:[(0,A.jsx)("option",{defaultValue:"selected",children:"Please Select"}),(0,A.jsx)("option",{value:"in progress",children:"in progress"}),(0,A.jsx)("option",{value:"sent to supplier",children:"sent to supplier"}),(0,A.jsx)("option",{value:"order acknowledged",children:"order acknowledged"}),(0,A.jsx)("option",{value:"partially received",children:"partially received"}),(0,A.jsx)("option",{value:"closed",children:"closed"}),(0,A.jsx)("option",{value:"on hold",children:"on hold"}),(0,A.jsx)("option",{value:"cancelled",children:"cancelled"})]})]})]})})})})})}),(0,A.jsx)(a.jl,{children:(0,A.jsx)(a.$n,{className:"shadow-none",color:"primary",onClick:()=>{s(),(()=>{const e=[];v(".lineitem tbody tr").each((()=>{const t={};v(void 0).find("input").each((()=>{const e=v(void 0).attr("name");t[e]=v(void 0).val()})),e.push(t)})),e.forEach((e=>{e.qty&&""!==e.po_product_id&&s(e)}))})(),r(!1),setTimeout((()=>{window.location.reload()}),300)},children:"Save & Continue"})})]})})};const D=function(e){let{viewHistoryModal:t,setViewHistoryModal:d,productId:s,supplierId:n}=e;const[i,l]=(0,r.useState)([]),[c,o]=(0,r.useState)([]),h=[{name:"PO Code\t"},{name:"Supplier Name\t"},{name:"Date\t"},{name:"Price"},{name:"Qty\t"}];return(0,r.useEffect)((()=>{f.A.post("/purchaseorder/getProductsfromSupplier",{product_id:s,supplier_id:n}).then((e=>{l(e.data.data)})).catch((()=>{(0,y.A)("Product history Data Not Found","info")})),f.A.post("/purchaseorder/getProductsfromOtherSuppliers",{product_id:s,supplier_id:n}).then((e=>{o(e.data.data)})).catch((()=>{(0,y.A)("Product history Data Not Found","info")}))}),[]),(0,A.jsx)("div",{children:(0,A.jsxs)(a.aF,{size:"l",isOpen:t,children:[(0,A.jsx)(a.rQ,{children:"Product Sales history"}),(0,A.jsx)(a.cw,{children:(0,A.jsx)(a.fI,{children:(0,A.jsx)(a.fv,{md:"12",children:(0,A.jsxs)(a.bw,{children:[(0,A.jsx)(a.lV,{children:(0,A.jsxs)(a.fI,{children:[(0,A.jsx)("h5",{children:"Purchase History from this supplier"}),(0,A.jsx)("div",{children:(0,A.jsxs)(a.XI,{id:"example",className:"display border border-secondary rounded",children:[(0,A.jsx)("tr",{children:h.map((e=>(0,A.jsx)("td",{children:e.name},e.name)))}),i&&i.map((e=>(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:e.po_code}),(0,A.jsx)("td",{children:e.supplier_name}),(0,A.jsx)("td",{children:u()(e.po_date).format("YYYY-MM-DD")}),(0,A.jsx)("td",{children:e.cost_price}),(0,A.jsx)("td",{children:e.qty})]},e.product_id)))]})})]})}),(0,A.jsx)(a.lV,{children:(0,A.jsxs)(a.fI,{children:[(0,A.jsx)("h5",{children:"Purchase History from other supplier"}),(0,A.jsx)("div",{children:(0,A.jsxs)(a.XI,{id:"example",className:"display border border-secondary rounded",children:[(0,A.jsx)("tr",{children:h.map((e=>(0,A.jsx)("td",{children:e.name},e.name)))}),c&&c.map((e=>(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:e.po_code}),(0,A.jsx)("td",{children:e.supplier_name}),(0,A.jsx)("td",{children:u()(e.po_date).format("YYYY-MM-DD")}),(0,A.jsx)("td",{children:e.cost_price}),(0,A.jsx)("td",{children:e.qty})]},e.product_id)))]})})]})})]})})})}),(0,A.jsx)(a.jl,{children:(0,A.jsx)(a.$n,{className:"shadow-none",color:"secondary",onClick:()=>d(!1),children:"Cancel"})})]})})};const E=function(e){let{deliveryOrderEditModal:t,setDeliveryOrderEditModal:d,deliveryOrderId:n}=e;const[i,l]=(0,r.useState)([]);function c(e,t,d){const r=[...i],n=(0,s.A)((0,s.A)({},r[e]),{},{[t]:d.target.value});r[e]=n,l(r)}return(0,r.useEffect)((()=>{f.A.post("purchaseorder/getDeliveryOrderHistory",{delivery_order_id:n}).then((e=>{l(e.data.data)})).catch((()=>{(0,y.A)("unable to get products","error")}))}),[n]),(0,A.jsx)("div",{children:(0,A.jsxs)(a.aF,{size:"xl",isOpen:t,children:[(0,A.jsxs)(a.rQ,{children:[" ","Edit Delivery Order",(0,A.jsxs)(a.$n,{color:"secondary",onClick:()=>{d(!1)},children:[" ","X"," "]})]}),(0,A.jsx)(a.cw,{children:(0,A.jsx)(a.fI,{children:(0,A.jsx)(a.fv,{md:"12",children:(0,A.jsx)(a.lV,{children:(0,A.jsx)(a.fI,{children:(0,A.jsx)("div",{children:(0,A.jsxs)(a.XI,{id:"example",className:"lineitem border border-secondary rounded",children:[(0,A.jsx)("tr",{children:[{name:"Product Name\t"},{name:"Quantity"},{name:"Status\t"},{name:"Remarks"}].map((e=>(0,A.jsx)("td",{children:e.name},e.name)))}),i&&i.map(((e,t)=>(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{"data-label":"title",children:(0,A.jsx)(a.pd,{type:"text",name:"title",value:e.item_title})}),(0,A.jsx)("td",{"data-label":"quantity",children:(0,A.jsx)(a.pd,{type:"text",name:"quantity",value:e.quantity,onChange:e=>c(t,"quantity",e)})}),(0,A.jsx)("td",{"data-label":"status",children:(0,A.jsxs)(a.pd,{type:"select",value:e.status,name:"status",onChange:e=>c(t,"status",e),children:[(0,A.jsx)("option",{defaultValue:"selected",children:"Please Select"}),(0,A.jsx)("option",{value:"in progress",children:"in progress"}),(0,A.jsx)("option",{value:"sent to supplier",children:"sent to supplier"}),(0,A.jsx)("option",{value:"order acknowledged",children:"order acknowledged"}),(0,A.jsx)("option",{value:"partially received",children:"partially received"}),(0,A.jsx)("option",{value:"closed",children:"closed"}),(0,A.jsx)("option",{value:"on hold",children:"on hold"}),(0,A.jsx)("option",{value:"cancelled",children:"cancelled"})]})}),(0,A.jsx)("td",{"data-label":"remarks",children:(0,A.jsx)(a.pd,{type:"text",name:"remarks",value:e.remarks,onChange:e=>c(t,"remarks",e)})})]},e.delivery_order_id)})))]})})})})})})}),(0,A.jsxs)(a.jl,{children:[(0,A.jsx)(a.$n,{className:"shadow-none",color:"primary",onClick:()=>{i.forEach((e=>{f.A.post("/purchaseorder/editDelieryOrderHistory",e).then((()=>{(0,y.A)("Record editted successfully","success")})).catch((()=>{(0,y.A)("Unable to edit record.","error")}))})),d(!1)},children:"Submit"}),(0,A.jsx)(a.$n,{className:"shadow-none",color:"dark",onClick:()=>d(!1),children:"Cancel"})]})]})})};const M=function(e){let{purchaseDetails:t,handleInputs:d,supplier:s}=e;return(0,A.jsx)("div",{children:(0,A.jsx)(a.lV,{children:(0,A.jsx)(a.gE,{children:(0,A.jsxs)(j.default,{title:"PurchaseOrder Details",righttitle:(0,A.jsxs)(a.fI,{children:[(0,A.jsxs)(a.fv,{className:"fs-10 small",children:[(0,A.jsx)("small",{children:"Creation :"}),(0,A.jsxs)("small",{children:[t&&t.created_by,t&&t.creation_date]})]}),(0,A.jsxs)(a.fv,{className:"fs-10 small",children:[(0,A.jsx)("small",{children:"Modification :"}),(0,A.jsxs)("small",{children:[t&&t.modified_by,t&&t.modification_date]})]})]}),children:[(0,A.jsxs)(a.fI,{children:[(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Po Code"}),(0,A.jsx)("br",{}),(0,A.jsx)("span",{children:t&&t.po_code})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Title"}),(0,A.jsx)(a.pd,{type:"text",onChange:d,value:t&&t.title,name:"title"})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Status"}),(0,A.jsxs)(a.pd,{type:"select",value:t&&t.status,name:"status",onChange:d,children:[(0,A.jsx)("option",{defaultValue:"selected",children:"Please Select"}),(0,A.jsx)("option",{value:"in progress",children:"in progress"}),(0,A.jsx)("option",{value:"sent to supplier",children:"sent to supplier"}),(0,A.jsx)("option",{value:"order acknowledged",children:"order acknowledged"}),(0,A.jsx)("option",{value:"partially received",children:"partially received"}),(0,A.jsx)("option",{value:"closed",children:"closed"}),(0,A.jsx)("option",{value:"on hold",children:"on hold"}),(0,A.jsx)("option",{value:"cancelled",children:"cancelled"})]})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Supplier Name"}),(0,A.jsxs)(a.pd,{type:"select",onChange:d,value:t&&t.supplier_id,name:"supplier_id",children:[(0,A.jsx)("option",{defaultValue:"selected",children:"Please Select"}),s&&s.map((e=>(0,A.jsx)("option",{value:e.supplier_id,children:e.company_name},e.supplier_id)))]})]})})]}),(0,A.jsxs)(a.fI,{children:[(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Priority"}),(0,A.jsx)(a.pd,{type:"select",onChange:d,value:t&&t.prirority,children:(0,A.jsx)("option",{defaultValue:"selected",children:"Please Select"})})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"PO Date"}),(0,A.jsx)(a.pd,{type:"date",onChange:d,value:t&&u()(t.purchase_order_date).format("YYYY-MM-DD"),name:"purchase_order_date"})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Follow Up Date"}),(0,A.jsx)(a.pd,{type:"date",onChange:d,value:t&&u()(t.follow_up_date).format("YYYY-MM-DD"),name:"follow_up_date"})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Notes To Supplier"}),(0,A.jsx)(a.pd,{type:"textarea",value:t&&t.notes,name:"notes",onChange:d})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Delivery Terms"}),(0,A.jsx)(a.pd,{type:"textarea",value:t&&t.delivery_terms,name:"delivery_terms",onChange:d})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Payment Terms"}),(0,A.jsx)(a.pd,{type:"textarea",value:t&&t.payment_terms,name:"payment_terms",onChange:d})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"Payment Status"}),(0,A.jsxs)(a.pd,{type:"select",value:t&&t.payment_status,name:"payment_status",onChange:d,children:[(0,A.jsx)("option",{value:"",children:" Please Select"}),(0,A.jsx)("option",{value:"Due",children:"Due"}),(0,A.jsx)("option",{value:"Partially Paid",children:"Partially Paid"}),(0,A.jsx)("option",{value:"Paid",children:"Paid"}),(0,A.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)(a.gE,{children:[(0,A.jsx)(a.JU,{children:"supplier Invoice Code"}),(0,A.jsx)(a.pd,{type:"text",value:t&&t.supplier_inv_code,name:"supplier_inv_code",onChange:d})]})})]})]})})})})};var T=d(67330),O=d(10556),q=d(27833);const U=[{name:""},{name:"D.O"},{name:"S.No"},{name:"Product Code\t"},{name:"Product Title\t"},{name:"Cost Price\t"},{name:"Selling Price"},{name:"GST%\t"},{name:"Stock"},{name:"Qty"},{name:"Damaged Qty\t"},{name:"Added to Stock\t"},{name:"Qty Balance\t"},{name:"Status"},{name:"Total Amount\t"},{name:"Actual Total Amount"},{name:"Edit\t",selector:"edit",cell:()=>(0,A.jsx)(O.A,{}),grow:0,width:"auto",button:!0,sortable:!1},{name:"Delete",selector:"delete",cell:()=>(0,A.jsx)(q.A,{}),grow:0,width:"auto",wrap:!0},{name:"History"}];const F=function(e){let{products:t,setProduct:d,getCheckedDeliverProducts:s,getCheckedPoProducts:r,setEditModal:n,setViewHistoryModal:i,deletePoProduct:l,setHistoryProduct:c}=e;return(0,A.jsx)("div",{children:(0,A.jsx)(a.fI,{children:(0,A.jsxs)(a.XI,{id:"example",className:"display border border-secondary rounded",children:[(0,A.jsx)("thead",{title:"Purchase Order Linked ",children:(0,A.jsx)("tr",{children:U.map((e=>(0,A.jsx)("td",{children:e.name},e.name)))})}),(0,A.jsx)("tbody",{children:t&&t.map(((e,t)=>(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:(0,A.jsx)("input",{type:"checkbox",id:"sno",name:"sno",value:e.po_product_id,onChange:d=>{r(d,t,e)}})}),(0,A.jsx)("td",{children:(0,A.jsx)("input",{type:"checkbox",id:"dno",name:"do",value:e.po_product_id,onChange:d=>{s(d,t,e)}})}),(0,A.jsx)("td",{children:t+1}),(0,A.jsx)("td",{children:e.item_code}),(0,A.jsx)("td",{children:e.title}),(0,A.jsx)("td",{children:e.cost_price}),(0,A.jsx)("td",{children:e.selling_price}),(0,A.jsx)("td",{children:e.gst}),(0,A.jsx)("td",{children:e.qty_in_stock}),(0,A.jsx)("td",{children:e.qty}),(0,A.jsx)("td",{children:e.damage_qty}),(0,A.jsx)("td",{children:e.qty_delivered}),(0,A.jsx)("td",{children:e.qty_balance}),(0,A.jsx)("td",{children:e.status}),(0,A.jsx)("td",{children:e.po_value}),(0,A.jsx)("td",{children:e.actual_value}),(0,A.jsx)("td",{children:(0,A.jsx)(a.$n,{color:"primary",onClick:()=>{d(e),n(!0)},children:"Edit"})}),(0,A.jsx)("td",{children:(0,A.jsx)(g.N_,{to:"",children:(0,A.jsx)("span",{onClick:()=>{l(e.po_product_id)},children:(0,A.jsx)(T.A,{})})})}),(0,A.jsx)("td",{children:(0,A.jsx)(g.N_,{to:"",color:"primary",onClick:()=>{c(e.product_id),i(!0)},children:(0,A.jsx)("b",{children:(0,A.jsx)("u",{children:"View History"})})})})]},e.po_product_id)))})]})})})};var Y=d(54211),$=d.n(Y),B=d(55727),H=d(86947),J=d(18713),L=d(81859);const V=e=>{let{deliveryOrderId:t,date:d}=e;const[s,n]=r.useState(),[a,i]=r.useState();r.useEffect((()=>{f.A.get("/setting/getSettingsForCompany").then((e=>{n(e.data.data)}))}),[0]);const l=e=>s.find((t=>t.key_text===e)).value;r.useEffect((()=>{f.A.post("purchaseorder/getDeliveryOrderHistory",{delivery_order_id:t}).then((e=>{i(e.data.data)})).catch((()=>{(0,y.A)("delivery data are not found","error")}))}),[]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("span",{onClick:()=>{const e=[[{text:"Sn",style:"tableHead"},{text:"Product Name",style:"tableHead"},{text:"Qty",style:"tableHead"},{text:"Remarks",style:"tableHead"}]];a.forEach(((t,d)=>{e.push([{text:"".concat(d+1),style:"tableBody",border:[!1,!1,!1,!0]},{text:"".concat(t.item_title?t.item_title:""),border:[!1,!1,!1,!0],style:"tableBody"},{text:"".concat(t.quantity?t.quantity:""),border:[!1,!1,!1,!0],style:"tableBody"},{text:"".concat(t.remarks?t.remarks:""),border:[!1,!1,!1,!0],style:"tableBody"}])}));const t={pageSize:"A4",header:(0,L.A)({findCompany:l}),pageMargins:[40,150,40,80],footer:J.A,content:[{layout:{defaultBorder:!1,hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:e=>1===e||0===e?"#bfdde8":"#eaeaea",vLineColor:()=>"#eaeaea",hLineStyle:()=>null,paddingLeft:()=>10,paddingRight:()=>10,paddingTop:()=>2,paddingBottom:()=>2,fillColor:()=>"#fff"},table:{headerRows:1,widths:["101%"],body:[[{text:"DELIVERY ORDER",alignment:"center",style:"tableHead"}]]}},"\n\n",{columns:[{text:"Date :".concat(d?u()(d).format("DD-MM-YYYY"):""," "),style:"textSize",margin:[0,0,65,0],bold:!0}]},"\n","\n","\n",{layout:{defaultBorder:!1,hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:e=>1===e||0===e?"#bfdde8":"#eaeaea",vLineColor:()=>"#eaeaea",hLineStyle:()=>null,paddingLeft:()=>10,paddingRight:()=>10,paddingTop:()=>2,paddingBottom:()=>2,fillColor:()=>"#fff"},table:{headerRows:1,widths:["10%","41%","20%","30%"],body:e}},"\n\n\n\n\n","\n\n\n\n\n",{columns:[{stack:[{text:"Your Faithfully :",alignment:"left",bold:!0,fontSize:10,style:["invoiceAdd","textSize1"]},"\n\n\n",{canvas:[{type:"line",x1:0,y1:0,x2:190,y2:0,lineWidth:1}]},{text:"Authorised Signature/Date",fontSize:10,style:["textSize1"],margin:[0,0,0,0]}]},{stack:["\n\n\n\n",{canvas:[{type:"line",margin:[0,0,0,0],x1:0,y1:0,x2:200,y2:0,lineWidth:1}]},{text:"Accepted By/date",fontSize:10,style:["textSize1"],margin:[0,0,0,0]}]}]},"\n\n\n\n\n"],margin:[0,50,50,50],styles:{logo:{margin:[-20,20,0,0]},address:{margin:[-10,20,0,0]},invoice:{margin:[0,30,0,10],alignment:"right"},invoiceAdd:{alignment:"right"},textSize:{fontSize:10,alignment:"right"},textSize1:{fontSize:10},notesTitle:{bold:!0,margin:[0,50,0,3]},tableHead:{border:[!1,!0,!1,!0],fillColor:"#eaf2f5",margin:[0,5,0,5],fontSize:10,bold:"true"},tableBody:{border:[!1,!1,!1,!0],margin:[0,5,0,5],alignment:"left",fontSize:10}}};$().vfs=H.b.vfs,$().createPdf(t,null,null,H.b.vfs).open()},children:(0,A.jsx)(B.A,{})})})};function z(e){let{toggle:t,tabs:d}=e;const[s,n]=(0,g.ok)();return(0,r.useEffect)((()=>{t(s.get("tab"))}),[s.get("tab")]),(0,A.jsx)(a.so,{tabs:!0,children:null===d||void 0===d?void 0:d.map((e=>(0,A.jsx)(a.CI,{children:(0,A.jsx)(a.k2,{className:e.id===s.get("tab")?"active":"",onClick:()=>{n({tab:e.id}),t(e.id)},children:e.name},e.id)},e.id)))})}var Q=d(32216);const R=e=>{let{editData:t,navigate:d,applyChanges:s,backToList:r,module:n}=e;const{isAuthorized:i,isLoading:l}=(0,Q.usePermify)();return(0,A.jsx)("div",{children:(0,A.jsx)(a.Zp,{tag:"h4",className:"border-bottom px-4 py-3 mb-0",children:(0,A.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,A.jsxs)(a.fI,{children:[(0,A.jsxs)(a.fv,{className:"d-flex",xl:3,sm:12,children:[" ",(0,A.jsx)(Q.HasAccess,{roles:null,permissions:"".concat(n,"-edit"),renderAuthFailed:(0,A.jsx)("p",{}),children:(0,A.jsxs)(a.$n,{onClick:()=>{t(),d("/Leave")},color:"primary",children:[" ","Save"]})})]}),(0,A.jsxs)(a.fv,{className:"d-flex",xl:3,sm:12,children:[" ",(0,A.jsx)(Q.HasAccess,{roles:null,permissions:"".concat(n,"-edit"),renderAuthFailed:(0,A.jsx)("p",{}),children:(0,A.jsx)(a.$n,{onClick:()=>{t(),s()},color:"primary",children:"Apply"})})]}),(0,A.jsxs)(a.fv,{className:"d-flex",xl:4,sm:12,children:[" ",(0,A.jsx)(a.$n,{onClick:()=>{r()},color:"dark",children:"Back To List"})]}),(0,A.jsxs)(a.fv,{className:"d-flex",xl:3,sm:12,children:[" ",(0,A.jsx)(Q.HasAccess,{roles:null,permissions:"".concat(n,"-remove"),renderAuthFailed:(0,A.jsx)("p",{children:"You are not authorized to access!"}),children:(0,A.jsx)(a.$n,{color:"danger",onClick:()=>{},children:"Delete"})})]})]})})})})},G=()=>{const[e,t]=(0,r.useState)(),[d,l]=(0,r.useState)([]),[h,g]=(0,r.useState)(),[v,_]=(0,r.useState)(),[b,C]=(0,r.useState)(),[S,w]=(0,r.useState)(),[N,T]=(0,r.useState)(!1),[O,q]=(0,r.useState)(!1),[U,Y]=(0,r.useState)({modelType:""}),[$,B]=(0,r.useState)({modelType:""}),[H,J]=(0,r.useState)("1"),[L,Q]=(0,r.useState)(!1),[G,W]=(0,r.useState)(!1),[X,Z]=(0,r.useState)([]),[K,ee]=(0,r.useState)([]),[te,de]=(0,r.useState)(),[se,re]=(0,r.useState)([]),[ne,ae]=(0,r.useState)(),[ie,le]=(0,r.useState)(0),[ce,oe]=(0,r.useState)(0),{id:he}=(0,o.g)(),ue=(0,o.Zp)(),pe=()=>{f.A.post("/purchaseorder/editTabPurchaseOrder",e).then((()=>{(0,y.A)("Record editted successfully","success")})).catch((()=>{(0,y.A)("Unable to edit record.","error")}))};return(0,r.useEffect)((()=>{f.A.get("/purchaseorder/getSupplier").then((e=>{l(e.data.data)})).catch((()=>{(0,y.A)("Supplier Data Not Found","info")})),f.A.post("/purchaseorder/TabPurchaseOrderLineItemById",{purchase_order_id:he}).then((e=>{w(e.data.data);let t=0,d=0;e.data.data.forEach((e=>{t+=e.po_value,d+=e.actual_value})),le(t),oe(d)})).catch((()=>{(0,y.A)("Products Data Not Found","info")})),f.A.post("/purchaseorder/getPurchaseOrderById",{purchase_order_id:he}).then((e=>{t(e.data.data[0]),ae(e.data.data[0].supplier_id)})),f.A.post("/purchaseorder/getDeliveryOrder",{purchase_order_id:he}).then((e=>{re(e.data.data)})).catch((()=>{(0,y.A)("DeliveryOrder Data Not Found","info")}))}),[he]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(p.A,{}),(0,A.jsx)(i.N9,{}),(0,A.jsx)(R,{editData:pe,navigate:ue,applyChanges:pe,backToList:()=>{ue("/PurchaseOrder")},module:"PurchaseOrder"}),(0,A.jsx)(M,{supplier:d,handleInputs:d=>{t((0,s.A)((0,s.A)({},e),{},{[d.target.name]:d.target.value}))},purchaseDetails:e}),(0,A.jsxs)(j.default,{title:"Product Linked",children:[(0,A.jsx)(P,{PurchaseOrderId:he,supplierId:ne,addPurchaseOrderModal:b,setAddPurchaseOrderModal:C}),(0,A.jsxs)(a.fI,{className:"mb-4",children:[(0,A.jsx)(a.fv,{md:"2",children:(0,A.jsx)(a.$n,{color:"primary",onClick:()=>{C(!0)},children:"Add Product"})}),(0,A.jsx)(a.fv,{md:"2",children:(0,A.jsx)(a.$n,{color:"success",onClick:()=>{X?X.forEach((e=>{"Closed"!==e.status?(e.status="Closed",e.qty_updated=e.qty_delivered,e.qty_in_stock+=parseFloat(e.qty_delivered),f.A.post("/product/edit-ProductQty",e),f.A.post("/purchaseorder/editTabPurchaseOrderLineItem",e).then((()=>{f.A.post("/inventory/editInventoryStock",e).then((()=>{(0,y.A)("Quantity updated in inventory successfully.","success")})).catch((()=>{(0,y.A)("unable to update quantity in inventory.","danger")})),(0,y.A)("Quantity added successfully.","success")})).catch((()=>{(0,y.A)("unable to add quantity.","danger")}))):(0,y.A)("This product is already added","danger")})):alert("Please select atleast one product")},children:"Add all Qty to Stock"})}),(0,A.jsx)(a.fv,{md:"2",children:(0,A.jsx)(a.$n,{color:"primary",onClick:()=>{K?f.A.post("/purchaseorder/insertDeliveryOrder",{purchase_order_id:he}).then((e=>{K.forEach((t=>{t.delivery_order_id=e.data.data.insertId,t.purchase_order_id=he,f.A.post("/purchaseorder/insertDeliveryOrderHistory",t).then((()=>{(0,y.A)("Inserted successfully.","success")})).catch((()=>{(0,y.A)("unable to deliver.","danger")}))}))})):alert("Please select atleast one product")},children:"Delivery Order"})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)("b",{color:"primary",children:["Grand Total(for delivered qty):",ce]})}),(0,A.jsx)(a.fv,{md:"3",children:(0,A.jsxs)("b",{color:"primary",children:["Grand Total:",ie]})})]}),(0,A.jsx)(F,{products:S,setProduct:g,getCheckedDeliverProducts:(e,t,d)=>{if(!0===e.target.checked&&ee([...K,d]),!0!==e.target.checked){const e=[...K];e.splice(t,1),ee(e)}},getCheckedPoProducts:(e,t,d)=>{if(!0===e.target.checked&&Z([...X,d]),!0!==e.target.checked){const e=[...X];e.splice(t,1),Z(e)}},setEditModal:T,setViewHistoryModal:Q,deletePoProduct:e=>{c().fire({title:"Are you sure? ",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&f.A.post("purchaseorder/deletePoProduct",{po_product_id:e}).then((()=>{c().fire("Deleted!","PoProduct has been deleted.","success"),setTimeout((()=>{window.location.reload()}),300)})).catch((()=>{(0,y.A)("Unable to Delete PO Product","info")}))}))},setHistoryProduct:_})]}),N&&(0,A.jsx)(k,{product:h,editModal:N,editPoProductData:()=>{f.A.post("/purchaseorder/editTabPurchaseOrderLineItem",h).then((()=>{(0,y.A)("product edited successfully.","success")})).catch((()=>{(0,y.A)("unable to edit product.","danger")}))},setEditModal:T,handlePOInputs:e=>{g((0,s.A)((0,s.A)({},h),{},{[e.target.name]:e.target.value}))}}),L&&(0,A.jsx)(D,{viewHistoryModal:L,setViewHistoryModal:Q,productId:v,supplierId:ne}),G&&(0,A.jsx)(E,{deliveryOrderEditModal:G,setDeliveryOrderEditModal:W,deliveryOrderId:te}),(0,A.jsxs)(j.default,{title:"More Details",children:[(0,A.jsx)(z,{toggle:e=>{J(e)},tabs:[{id:"1",name:"Delivery order"},{id:"2",name:"Attachments"},{id:"3",name:"Notes"}]}),(0,A.jsxs)(a.JS,{className:"p-4",activeTab:H,children:[(0,A.jsx)(a.mF,{tabId:"1",children:se&&se.map((e=>(0,A.jsxs)(a.fI,{children:[(0,A.jsx)(a.fv,{md:"6",children:(0,A.jsx)("span",{children:u()(e.date).format("YYYY-MM-DD")})}),(0,A.jsxs)(a.fv,{md:"6",children:[(0,A.jsx)("span",{color:"primary",className:"m-2 color-primary",onClick:()=>{de(e.delivery_order_id),W(!0)},children:(0,A.jsx)(n.A,{})}),(0,A.jsx)(V,{id:he,deliveryOrderId:e.delivery_order_id,date:e.date})]})]},e.delivery_order_id)))}),(0,A.jsx)(a.mF,{tabId:"2",children:(0,A.jsx)(a.fI,{children:(0,A.jsx)(I,{dataForPicture:()=>{B({modelType:"picture"})},dataForAttachment:()=>{Y({modelType:"attachment"})},id:he,attachmentModal:O,setAttachmentModal:q,pictureData:$,attachmentData:U})})}),(0,A.jsx)(a.mF,{tabId:"3",children:(0,A.jsxs)(a.fI,{children:[(0,A.jsx)(x.A,{recordId:he,roomName:"PurchaseOrderEdit"}),(0,A.jsx)(m.A,{recordId:he,roomName:"PurchaseOrderEdit"})]})})]})]})]})}},77199:(e,t,d)=>{"use strict";d.d(t,{A:()=>i});var s=d(55613),r=d(86971),n=d(51318),a=d(70579);const i=e=>{const t=(0,r.zy)(),d=t.pathname.split("/")[1],i=t.pathname.split("/")[2];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{children:e.heading}),(0,a.jsxs)(s.Qp,{children:[(0,a.jsx)(s.J5,{to:"/",tag:n.N_,className:"text-decoration-none",children:"Home"}),d?(0,a.jsx)(s.J5,{active:!0,children:d}):"",i?(0,a.jsx)(s.J5,{active:!0,children:i}):""]})]})}},93635:(e,t,d)=>{"use strict";d.d(t,{A:()=>p});var s=d(65043),r=d(55613),n=d(30064),a=d.n(n),i=d(67330),l=d(29820),c=d(21803),o=d(71134),h=d(36762),u=d(70579);const p=function(e){let{roomName:t,recordId:d}=e;const n={width:"100%",marginBottom:"10px"},[p,x]=(0,s.useState)(null),m=e=>{a().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&h.A.post("/note/deleteNotes",{comment_id:e}).then((e=>{console.log(e),a().fire("Deleted!","Media has been deleted.","success"),window.location.reload()})).catch((()=>{(0,o.A)("Unable to Delete Media","info")}))}))};return(0,s.useEffect)((()=>{h.A.post("/note/getNotes",{record_id:d,room_name:t}).then((e=>{x(e.data.data)}))}),[d]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.fI,{style:{marginTop:20},children:p&&p.map(((e,t)=>(0,u.jsx)(u.Fragment,{children:t%2===0?(0,u.jsxs)(r.$U,{className:"d-flex",children:[(0,u.jsx)(r.$U,{left:!0,href:"#",children:(0,u.jsx)(r.$U,{object:!0,src:l,alt:"Generic placeholder image",width:"40",style:{borderRadius:50}})}),(0,u.jsxs)(r.$U,{body:!0,className:"ms-3",style:n,children:[(0,u.jsx)(r.$U,{heading:!0,children:(0,u.jsxs)("div",{style:{position:"relative"},children:["Hello ",e.name,(0,u.jsxs)("p",{style:{position:"absolute",top:0,right:0,fontSize:12},children:[e.creation_date,(0,u.jsxs)("button",{type:"button",className:"btn",onClick:()=>{m(e.comment_id)},children:[(0,u.jsx)(i.A,{style:{width:20}})," "]})]})]})}),e.comments]})]},e.comment_id.toString()):(0,u.jsx)(r.$U,{className:"ms-3",children:(0,u.jsxs)(r.$U,{className:"d-flex my-4",children:[(0,u.jsx)(r.$U,{left:!0,href:"#",children:(0,u.jsx)(r.$U,{object:!0,src:c,alt:"Generic placeholder image",width:"40",style:{borderRadius:50}})}),(0,u.jsxs)(r.$U,{body:!0,className:"ms-3",style:{width:"100%"},children:[(0,u.jsx)(r.$U,{heading:!0,children:(0,u.jsxs)("div",{style:{position:"relative"},children:["Hello ",e.name,(0,u.jsxs)("p",{style:{position:"absolute",top:0,right:0,fontSize:12},children:[e.creation_date,(0,u.jsxs)("button",{type:"button",className:"btn",onClick:()=>{m(e.comment_id)},children:[(0,u.jsx)(i.A,{style:{width:20}})," "]})]})]})}),e.comments]})]})},e.comment_id.toString())})))})})}},96391:(e,t,d)=>{"use strict";d.d(t,{A:()=>h});var s=d(89379),r=d(65043),n=d(55613),a=d(86178),i=d.n(a),l=d(71134),c=d(36762),o=d(70579);const h=function(e){let{recordId:t,roomName:d}=e;const[a,h]=(0,r.useState)({comments:"",room_name:d,record_id:t,creation_date:i()().format("DD-MM-YYYY")});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.fI,{children:(0,o.jsx)("textarea",{id:"note",name:"comments",rows:"4",cols:"50",onChange:e=>{h((0,s.A)((0,s.A)({},a),{},{[e.target.name]:e.target.value}))}})}),(0,o.jsx)(n.fI,{className:"mb-2"}),(0,o.jsxs)(n.fI,{className:"mb-1",children:[(0,o.jsx)(n.fv,{md:"1",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary btn-sm shadow-none",onClick:()=>{c.A.post("/note/addNote",a).then((()=>{(0,l.A)("Add Note Successfully","success"),setTimeout((()=>{window.location.reload()}),400)}))},children:"Submit"})}),(0,o.jsx)(n.fv,{md:"1",children:(0,o.jsx)("button",{type:"button",className:"btn btn-dark btn-sm shadow-none",children:"Cancel"})})]})]})}}}]);
//# sourceMappingURL=6103.67bfee4d.chunk.js.map