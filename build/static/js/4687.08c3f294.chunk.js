"use strict";(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[4687],{14687:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(65043),n=a(55613),d=a(30064),l=a.n(d),c=a(86971),i=a(36762),r=a(77199),o=a(70579);const p=()=>{const[e,t]=s.useState([]),[a,d]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[j,x]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[y,v]=(0,s.useState)(null),{id:b}=(0,c.g)(),_=()=>{i.A.get("/api/getCompany").then((e=>{t(e.data.data)})).catch((e=>{console.log(e)})),i.A.post("/api/getProjectById",{project_id:b}).then((e=>{console.log(e.data.data),d(e.data.data.title),f(e.data.data.company_id),h(e.data.data.description),x(e.data.data.start_date),m(e.data.data.start_date)})).catch((e=>{console.log(e)}))};(0,s.useEffect)((()=>(_(),()=>{_()})),[]);return(0,o.jsxs)("div",{children:[(0,o.jsx)(r.A,{}),(0,o.jsx)(n.fI,{children:(0,o.jsx)(n.fv,{md:"12",children:(0,o.jsxs)(n.Zp,{children:[(0,o.jsx)(n.bw,{className:"bg-light",children:(0,o.jsx)(n.ZB,{tag:"h4",className:"mb-0",children:"Project Info"})}),(0,o.jsx)(n.bw,{children:(0,o.jsxs)(n.lV,{children:[(0,o.jsxs)(n.fI,{children:[(0,o.jsx)(n.fv,{md:"6",children:(0,o.jsxs)(n.gE,{children:[(0,o.jsx)(n.JU,{children:"Title"}),(0,o.jsx)(n.pd,{defaultValue:a,onInput:e=>d(e.target.value),type:"text",placeholder:""})]})}),(0,o.jsx)(n.fv,{md:"6",children:(0,o.jsxs)(n.gE,{children:[(0,o.jsx)(n.JU,{children:"Description"}),(0,o.jsx)(n.pd,{defaultValue:p,onInput:e=>h(e.target.value),type:"text",placeholder:""})]})})]}),(0,o.jsxs)(n.fI,{children:[(0,o.jsx)(n.fv,{md:"6",children:(0,o.jsxs)(n.gE,{children:[(0,o.jsx)(n.JU,{children:"Start Date"}),(0,o.jsx)(n.pd,{defaultValue:j,onInput:e=>x(e.target.value),type:"date",placeholder:"DOB Here"})]})}),(0,o.jsx)(n.fv,{md:"6",children:(0,o.jsxs)(n.gE,{children:[(0,o.jsx)(n.JU,{children:"Estimated Finish Date"}),(0,o.jsx)(n.pd,{defaultValue:u,onInput:e=>m(e.target.value),type:"date",placeholder:"DOB Here"})]})})]}),(0,o.jsxs)(n.fI,{children:[(0,o.jsx)(n.fv,{md:"6",children:(0,o.jsxs)(n.gE,{children:[(0,o.jsx)(n.JU,{children:"Company"}),(0,o.jsx)(n.pd,{defaultChecked:g,onChange:e=>f(e.target.value),type:"select",name:"Select Category",children:e.map((e=>(0,o.jsx)("option",{selected:g===e.company_id&&!0,value:e.company_id,children:e.company_name},e.company_id)))})]})}),(0,o.jsxs)(n.fv,{md:"6",children:[(0,o.jsx)(n.JU,{children:"Attachments"}),(0,o.jsx)(n.gE,{children:(0,o.jsx)(n.pd,{onChange:e=>{v(e.target.files[0])},type:"file",placeholder:""})})]})]})]})}),(0,o.jsxs)(n.bw,{className:"border-top gap-2 d-flex align-items-center",children:[(0,o.jsx)(n.$n,{onClick:()=>{(async()=>{if(""!==a&&""!==p&&""!==j&&""!==u&&""!==g){const e=new FormData;e.append("title",a),e.append("description",p),e.append("start_date",j),e.append("estimated_finish_date",u),e.append("company_id",g),e.append("project_id",b),null!=y&&e.append("attachment",y),i.A.post("/attachment/edit-projects",e).then((e=>{e&&"400"===e.data.status?alert("Cannot add project."):(l().fire({title:"Success",text:"Project Added!",icon:"success"}),window.location.reload())})).catch((e=>{console.log(e)}))}else l().fire({title:"Field Missing",text:"Title,description & Dates are required",icon:"warning"})})()},type:"submit",className:"btn btn-success",children:"Save"}),(0,o.jsx)(n.$n,{type:"button",className:"btn btn-dark ml-2",children:"Cancel"})]})]})})})]})}},77199:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(55613),n=a(86971),d=a(51318),l=a(70579);const c=e=>{const t=(0,n.zy)(),a=t.pathname.split("/")[1],c=t.pathname.split("/")[2];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{children:e.heading}),(0,l.jsxs)(s.Qp,{children:[(0,l.jsx)(s.J5,{to:"/",tag:d.N_,className:"text-decoration-none",children:"Home"}),a?(0,l.jsx)(s.J5,{active:!0,children:a}):"",c?(0,l.jsx)(s.J5,{active:!0,children:c}):""]})]})}}}]);
//# sourceMappingURL=4687.08c3f294.chunk.js.map