/*! For license information please see 4800.1d5401c7.chunk.js.LICENSE.txt */
(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[4800],{4800:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(89379),o=n(65043),s=n(55613),a=(n(38421),n(61363),n(76256),n(58613)),l=n.n(a),i=(n(88637),n(78187),n(58013),n(85594),n(28096)),c=n(36762),d=n(71134),h=n(17526),u=n(70579);const p=function(){const[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(0),[p,f]=(0,o.useState)(0),[m,x]=(0,o.useState)(0),[v,j]=(0,o.useState)({month:null,year:null}),b=e=>{j((0,r.A)((0,r.A)({},v),{},{[e.target.name]:e.target.value}))},y=[{name:"S.No",selector:"s_no"},{name:"Employee Name",selector:"employee_name"},{name:"NRIC",selector:"nric_no"},{name:"CPF By Employer",selector:"cpf_employer"},{name:"CPF By Employee",selector:"cpf_employee"},{name:"Total Cpf",selector:"total_cpf"}];return(0,o.useEffect)((()=>{setTimeout((()=>{l()("#example").DataTable({pagingType:"full_numbers",pageLength:20,processing:!0,dom:"Bfrtip",buttons:[{extend:"csv",text:"CSV",className:"shadow-none btn btn-primary"},{extend:"print",text:"Print",className:"shadow-none btn btn-primary"}]})}),1e3)}),[]),(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)(i.N9,{}),(0,u.jsx)("div",{className:"card p-2 shadow-none",children:(0,u.jsxs)(s.fI,{children:[(0,u.jsx)(s.fv,{}),(0,u.jsx)(s.fv,{}),(0,u.jsx)(s.fv,{children:(0,u.jsxs)(s.pd,{type:"select",name:"month",onChange:b,children:[(0,u.jsx)("option",{value:"",children:"Select Month"}),(0,u.jsx)("option",{value:"1",children:"January"}),(0,u.jsx)("option",{value:"2",children:"February"}),(0,u.jsx)("option",{value:"3",children:"March"}),(0,u.jsx)("option",{value:"4",children:"April"}),(0,u.jsx)("option",{value:"5",children:"May"}),(0,u.jsx)("option",{value:"6",children:"June"}),(0,u.jsx)("option",{value:"7",children:"July"}),(0,u.jsx)("option",{value:"8",children:"August"}),(0,u.jsx)("option",{value:"9",children:"September"}),(0,u.jsx)("option",{value:"10",children:"October"}),(0,u.jsx)("option",{value:"11",children:"November"}),(0,u.jsx)("option",{value:"12",children:"December"})]})}),(0,u.jsx)(s.fv,{children:(0,u.jsxs)(s.pd,{type:"select",name:"year",onChange:b,children:[(0,u.jsx)("option",{value:"",children:"Select Year"}),(0,u.jsx)("option",{value:"2020",children:"2020"}),(0,u.jsx)("option",{value:"2021",children:"2021"}),(0,u.jsx)("option",{value:"2022",children:"2022"}),(0,u.jsx)("option",{value:"2023",children:"2023"})]})}),(0,u.jsx)(s.fv,{md:"2",children:(0,u.jsx)(s.$n,{color:"primary",className:"shadow-none",onClick:()=>{v.month=parseInt(v.month,10),v.year=parseInt(v.year,10),c.A.post("/payrollmanagement/getCpfSummaryReport",v).then((e=>{t(e.data.data);let n=0,r=0,o=0;e.data.data.forEach((e=>{n+=e.cpf_employee,r+=e.cpf_employer,o+=e.total_cpf})),a(n),f(r),x(o)})).catch((()=>{(0,d.A)("summaries not found","error")}))},children:"Go"})})]})}),(0,u.jsx)("div",{className:"card p-2 text-center shadow-none mt-0",children:(0,u.jsx)("b",{children:"CPF Summary Report"})}),(0,u.jsx)("div",{className:"card p-2 shadow-none mt-0",children:(0,u.jsxs)(s.fI,{children:[(0,u.jsxs)(s.fv,{md:"6",children:[(0,u.jsx)("b",{children:"Month:"})," \xa0 ",(0,u.jsx)("span",{children:v.month})]}),(0,u.jsxs)(s.fv,{md:"6",children:[(0,u.jsx)("b",{children:"year:"})," \xa0 ",(0,u.jsx)("span",{children:v.year})]})]})}),(0,u.jsxs)(s.Zp,{children:[(0,u.jsx)(s.bw,{children:(0,u.jsx)(s.fI,{children:(0,u.jsx)(s.fv,{children:(0,u.jsx)(h.A,{columns:y,data:e})})})}),(0,u.jsx)(s.bw,{children:(0,u.jsxs)(s.XI,{children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:y.map((e=>(0,u.jsx)("td",{children:e.name},e.name)))})}),(0,u.jsxs)("tbody",{children:[e&&e.map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t+1}),(0,u.jsx)("td",{children:e.employee_name}),(0,u.jsx)("td",{children:e.nric_no}),(0,u.jsx)("td",{children:e.cpf_employer}),(0,u.jsx)("td",{children:e.cpf_employee}),(0,u.jsx)("td",{children:e.total_cpf})]},e.employee_id))),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)("b",{})}),(0,u.jsx)("td",{children:(0,u.jsx)("b",{})}),(0,u.jsx)("td",{children:(0,u.jsx)("b",{children:"Total"})}),(0,u.jsx)("td",{children:(0,u.jsx)("b",{children:n})}),(0,u.jsx)("td",{children:(0,u.jsx)("b",{children:p})}),(0,u.jsx)("td",{children:(0,u.jsx)("b",{children:m})})]})]})]})})]})]})}},17526:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(65043),o=n(65173),s=n.n(o);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=(0,r.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,s=e.size,i=void 0===s?24:s,c=l(e,["color","size"]);return r.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"}))}));i.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},i.displayName="Table";const c=i;var d=n(69197),h=n(55613),u=n(54211),p=n.n(u),f=n(86947),m=n(81859),x=n(18713),v=n(36762),j=n(70579);const b=e=>{let{data:t,columns:n}=e;const[o,s]=r.useState();r.useEffect((()=>{v.A.get("/setting/getSettingsForCompany").then((e=>{s(e.data.data)}))}),[]);const a=e=>o.find((t=>t.key_text===e)).value;function l(){const e=[],r=[],o=[];return n.forEach((e=>{r.push(e.selector),o.push({text:e.name,style:"tableHead"})})),e.push(o),t.forEach(((t,n)=>{const o=[];r.forEach((e=>{o.push({text:"s_no"===e?n+1:void 0!==t[e]?t[e]:"",style:"tableBody"})})),e.push(o)})),e}const i=()=>{const e=100/n.length,t=n.length,r=[];for(let n=0;n<t;n++)r.push("".concat(e,"%"));return console.log(r),r};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.fI,{children:(0,j.jsxs)(h.fv,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,j.jsxs)(h.$n,{style:{background:"green",border:"none",marginRight:"10px"},className:"shadow-none",onClick:function(){const e=document.createElement("a");let r=function(e){let t;const r=[],o=[];return n.forEach((e=>{r.push(e.name),o.push(e.selector)})),console.log(r),t="",t+=r.join(","),t+="\n",e.forEach(((e,n)=>{let r=0;o.forEach((o=>{r>0&&(t+=","),t+="s_no"===o?n+1:e[o]?e[o]:"",r++})),t+="\n"})),t}(t);if(null==r)return;r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),e.setAttribute("href",encodeURI(r)),e.setAttribute("download","export.csv"),e.click()},children:[(0,j.jsx)(c,{})," Excel"]}),(0,j.jsxs)(h.$n,{style:{background:"#D11606",border:"none"},className:"shadow-none",onClick:()=>{const e={pageSize:"A4",header:(0,m.A)({findCompany:a}),pageMargins:[40,110,40,80],footer:x.A,content:[{table:{headerRows:1,dontBreakRows:!0,widths:i(),body:l()},layout:"lightHorizontalLines"}],styles:{tableHead:{border:[!1,!0,!1,!0],fillColor:"#eaf2f5",margin:[0,5,0,5],fontSize:10,bold:"true"},tableBody:{border:[!1,!0,!1,!0],margin:[0,5,0,5],fontSize:10}}};p().vfs=f.b.vfs,p().createPdf(e,null,null,f.b.vfs).open()},children:[(0,j.jsx)(d.A,{})," PDF"]})]})})})}},69197:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(65043),o=n(65173),s=n.n(o);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=(0,r.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,s=e.size,i=void 0===s?24:s,c=l(e,["color","size"]);return r.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.createElement("polyline",{points:"13 2 13 9 20 9"}))}));i.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},i.displayName="File";const c=i},85594:(e,t,n)=>{var r,o;r=[n(58613),n(65219),n(56670)],void 0===(o=function(e){return function(e,t,n,r){"use strict";var o=e.fn.dataTable,s=n.createElement("a"),a=function(t){var n=e(t).clone()[0];return"link"===n.nodeName.toLowerCase()&&(n.href=l(n.href)),n.outerHTML},l=function(e){s.href=e;var t=s.host;return-1===t.indexOf("/")&&0!==s.pathname.indexOf("/")&&(t+="/"),s.protocol+"//"+t+s.pathname+s.search};return o.ext.buttons.print={className:"buttons-print",text:function(e){return e.i18n("buttons.print","Print")},action:function(n,o,s,i){var c=o.buttons.exportData(e.extend({decodeEntities:!1},i.exportOptions)),d=o.buttons.exportInfo(i),h=o.columns(i.exportOptions.columns).flatten().map((function(e){return o.settings()[0].aoColumns[o.column(e).index()].sClass})).toArray(),u=function(e,t){for(var n="<tr>",o=0,s=e.length;o<s;o++){var a=null===e[o]||e[o]===r?"":e[o];n+="<"+t+" "+(h[o]?'class="'+h[o]+'"':"")+">"+a+"</"+t+">"}return n+"</tr>"},p='<table class="'+o.table().node().className+'">';i.header&&(p+="<thead>"+u(c.header,"th")+"</thead>"),p+="<tbody>";for(var f=0,m=c.body.length;f<m;f++)p+=u(c.body[f],"td");p+="</tbody>",i.footer&&c.footer&&(p+="<tfoot>"+u(c.footer,"th")+"</tfoot>"),p+="</table>";var x=t.open("","");if(x){x.document.close();var v="<title>"+d.title+"</title>";e("style, link").each((function(){v+=a(this)}));try{x.document.head.innerHTML=v}catch(n){e(x.document.head).html(v)}x.document.body.innerHTML="<h1>"+d.title+"</h1><div>"+(d.messageTop||"")+"</div>"+p+"<div>"+(d.messageBottom||"")+"</div>",e(x.document.body).addClass("dt-print-view"),e("img",x.document.body).each((function(e,t){t.setAttribute("src",l(t.getAttribute("src")))})),i.customize&&i.customize(x,i,o);var j=function(){i.autoPrint&&(x.print(),x.close())};navigator.userAgent.match(/Trident\/\d.\d/)?j():x.setTimeout(j,1e3)}else o.buttons.info(o.i18n("buttons.printErrorTitle","Unable to open print view"),o.i18n("buttons.printErrorMsg","Please allow popups in your browser for this site to be able to view the print view."),5e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},o.Buttons}(e,window,document)}.apply(t,r))||(e.exports=o)}}]);
//# sourceMappingURL=4800.1d5401c7.chunk.js.map