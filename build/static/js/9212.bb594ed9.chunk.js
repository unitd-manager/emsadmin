"use strict";(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[5841,9212],{17526:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(65043),a=n(65173),s=n.n(a);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,c=void 0===s?24:s,i=l(e,["color","size"]);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"}))}));c.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},c.displayName="Table";const i=c;var d=n(69197),h=n(55613),u=n(54211),j=n.n(u),x=n(86947),p=n(81859),f=n(18713),m=n(36762),g=n(70579);const v=e=>{let{data:t,columns:n}=e;const[a,s]=r.useState();r.useEffect((()=>{m.A.get("/setting/getSettingsForCompany").then((e=>{s(e.data.data)}))}),[]);const o=e=>a.find((t=>t.key_text===e)).value;function l(){const e=[],r=[],a=[];return n.forEach((e=>{r.push(e.selector),a.push({text:e.name,style:"tableHead"})})),e.push(a),t.forEach(((t,n)=>{const a=[];r.forEach((e=>{a.push({text:"s_no"===e?n+1:void 0!==t[e]?t[e]:"",style:"tableBody"})})),e.push(a)})),e}const c=()=>{const e=100/n.length,t=n.length,r=[];for(let n=0;n<t;n++)r.push("".concat(e,"%"));return console.log(r),r};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.fI,{children:(0,g.jsxs)(h.fv,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,g.jsxs)(h.$n,{style:{background:"green",border:"none",marginRight:"10px"},className:"shadow-none",onClick:function(){const e=document.createElement("a");let r=function(e){let t;const r=[],a=[];return n.forEach((e=>{r.push(e.name),a.push(e.selector)})),console.log(r),t="",t+=r.join(","),t+="\n",e.forEach(((e,n)=>{let r=0;a.forEach((a=>{r>0&&(t+=","),t+="s_no"===a?n+1:e[a]?e[a]:"",r++})),t+="\n"})),t}(t);if(null==r)return;r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),e.setAttribute("href",encodeURI(r)),e.setAttribute("download","export.csv"),e.click()},children:[(0,g.jsx)(i,{})," Excel"]}),(0,g.jsxs)(h.$n,{style:{background:"#D11606",border:"none"},className:"shadow-none",onClick:()=>{const e={pageSize:"A4",header:(0,p.A)({findCompany:o}),pageMargins:[40,110,40,80],footer:f.A,content:[{table:{headerRows:1,dontBreakRows:!0,widths:c(),body:l()},layout:"lightHorizontalLines"}],styles:{tableHead:{border:[!1,!0,!1,!0],fillColor:"#eaf2f5",margin:[0,5,0,5],fontSize:10,bold:"true"},tableBody:{border:[!1,!0,!1,!0],margin:[0,5,0,5],fontSize:10}}};j().vfs=x.b.vfs,j().createPdf(e,null,null,x.b.vfs).open()},children:[(0,g.jsx)(d.A,{})," PDF"]})]})})})}},38421:()=>{},41370:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(65043),a=(n(38421),n(86178)),s=n.n(a),o=n(28096),l=n(55613),c=n(92157),i=n.n(c),d=n(36762),h=n(71134),u=n(77199),j=n(17526),x=n(70579);const p=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(""),[c,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[b,y]=(0,r.useState)("");(0,r.useEffect)((()=>{d.A.get("/reports/getProjectReport").then((e=>{t(e.data.data),a(e.data.data)})).catch((()=>{(0,h.A)("Project Data Not Found","info")}))}),[]);const[w,_]=(0,r.useState)(0),C=20*w,k=n.slice(C,C+20),O=Math.ceil(n.length/20),S=[{name:"SN",selector:"s_no"},{name:"Project Code",selector:"project_code",grow:0,wrap:!0,width:"4%"},{name:"Project Title",selector:"Project_name",sortable:!0,grow:0,wrap:!0},{name:"Category",selector:"category",sortable:!0,grow:0},{name:"Start Date",selector:"start_date",sortable:!0,grow:0},{name:"End Date",selector:"actual_finish_date",sortable:!0,grow:0},{name:"Client Company",selector:"company_name",sortable:!0,grow:0},{name:"Contact",selector:"contact_name",sortable:!0,grow:0},{name:"Status",selector:"status",sortable:!0,grow:0}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.A,{}),(0,x.jsx)(o.N9,{}),(0,x.jsx)(l.Zp,{children:(0,x.jsx)(l.bw,{children:(0,x.jsxs)(l.fI,{children:[(0,x.jsx)(l.fv,{children:(0,x.jsxs)(l.gE,{children:[(0,x.jsx)(l.JU,{children:"Start Date"}),(0,x.jsx)(l.pd,{type:"date",name:"start_date",onChange:e=>p(e.target.value)})]})}),(0,x.jsx)(l.fv,{children:(0,x.jsxs)(l.gE,{children:[(0,x.jsx)(l.JU,{children:"End Date"}),(0,x.jsx)(l.pd,{type:"date",name:"actual_finish_date",onChange:e=>m(e.target.value)})]})}),(0,x.jsx)(l.fv,{children:(0,x.jsxs)(l.gE,{children:[(0,x.jsx)(l.JU,{children:"Select Category"}),(0,x.jsxs)(l.pd,{type:"select",name:"project_type",onChange:e=>v(e.target.value),children:[(0,x.jsx)("option",{value:"",children:"Select"}),(0,x.jsx)("option",{value:"Project",children:"Project"}),(0,x.jsx)("option",{value:"Tenancy Project",children:"Tenancy Project"}),(0,x.jsx)("option",{value:"Tenancy Work",children:"Tenancy Work"}),(0,x.jsx)("option",{value:"Maintenance",children:"Maintenance"})]})]})}),(0,x.jsx)(l.fv,{children:(0,x.jsxs)(l.gE,{children:[(0,x.jsx)(l.JU,{children:"Status"}),(0,x.jsxs)(l.pd,{type:"select",name:"status",onChange:e=>y(e.target.value),children:[(0,x.jsx)("option",{value:"",children:"Please Select"}),(0,x.jsx)("option",{defaultValue:"selected",value:"WIP",children:"WIP"}),(0,x.jsx)("option",{value:"Billable",children:"Billable"}),(0,x.jsx)("option",{value:"Billed",children:"Billed"}),(0,x.jsx)("option",{value:"Complete",children:"Complete"}),(0,x.jsx)("option",{value:"Cancelled",children:"Cancelled"}),(0,x.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,x.jsx)("option",{value:"Latest",children:"Latest"})]})]})}),(0,x.jsx)(l.fv,{md:"1",children:(0,x.jsx)(l.$n,{color:"primary",className:"shadow-none",onClick:()=>(()=>{const t=e.filter((e=>e.category===(""===g?e.category:g))).filter((e=>e.status===(""===b?e.status:b))).filter((e=>f&&c?e.actual_finish_date<=(""===f?e.actual_finish_date:f)&&e.start_date>=(""===c?e.start_date:c):c?e.start_date===(""===c?e.start_date:c):e.actual_finish_date===(""===f?e.actual_finish_date:f)));a(t)})(),children:"Go"})})]})})}),(0,x.jsx)(l.Zp,{children:(0,x.jsx)(l.bw,{children:(0,x.jsxs)(l.fI,{children:[(0,x.jsx)(l.fv,{md:"3",children:(0,x.jsxs)(l.JU,{children:[(0,x.jsx)("b",{children:"Category:"})," ",g]})}),(0,x.jsx)(l.fv,{md:"3",children:(0,x.jsxs)(l.JU,{children:[(0,x.jsx)("b",{children:"Start Date:"})," ",c]})}),(0,x.jsx)(l.fv,{md:"3",children:(0,x.jsxs)(l.JU,{children:[(0,x.jsx)("b",{children:" End Date:"})," ",f]})}),(0,x.jsx)(l.fv,{md:"3",children:(0,x.jsxs)(l.JU,{children:[(0,x.jsx)("b",{children:" Status:"})," ",b]})})]})})}),(0,x.jsxs)(l.Zp,{children:[(0,x.jsx)(l.bw,{children:(0,x.jsx)(l.fI,{children:(0,x.jsx)(l.fv,{children:(0,x.jsx)(j.A,{columns:S,data:n})})})}),(0,x.jsxs)(l.bw,{children:[(0,x.jsxs)(l.XI,{children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{children:S.map((e=>(0,x.jsx)("td",{children:e.name},e.name)))})}),(0,x.jsx)("tbody",{children:k&&k.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:t+1}),(0,x.jsx)("td",{children:e.project_code}),(0,x.jsx)("td",{children:e.Project_name}),(0,x.jsx)("td",{children:e.category}),(0,x.jsx)("td",{children:s()(e.start_date).format("YYYY-MM-DD")}),(0,x.jsx)("td",{children:s()(e.actual_finish_date).format("YYYY-MM-DD")}),(0,x.jsx)("td",{children:e.company_name}),(0,x.jsx)("td",{children:e.contact_name}),(0,x.jsx)("td",{children:e.status})]},e.project_id)))})]}),(0,x.jsx)(i(),{previousLabel:"Previous",nextLabel:"Next",pageCount:O,onPageChange:e=>{let{selected:t}=e;_(t)},containerClassName:"navigationButtons",previousLinkClassName:"previousButton",nextLinkClassName:"nextButton",disabledClassName:"navigationDisabled",activeClassName:"navigationActive"})]})]})]})}},69197:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(65043),a=n(65173),s=n.n(a);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,c=void 0===s?24:s,i=l(e,["color","size"]);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.createElement("polyline",{points:"13 2 13 9 20 9"}))}));c.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},c.displayName="File";const i=c},77199:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55613),a=n(86971),s=n(51318),o=n(70579);const l=e=>{const t=(0,a.zy)(),n=t.pathname.split("/")[1],l=t.pathname.split("/")[2];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{children:e.heading}),(0,o.jsxs)(r.Qp,{children:[(0,o.jsx)(r.J5,{to:"/",tag:s.N_,className:"text-decoration-none",children:"Home"}),n?(0,o.jsx)(r.J5,{active:!0,children:n}):"",l?(0,o.jsx)(r.J5,{active:!0,children:l}):""]})]})}}}]);
//# sourceMappingURL=9212.bb594ed9.chunk.js.map