/*! For license information please see 5782.de948b87.chunk.js.LICENSE.txt */
(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[5782],{5782:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(65043),o=(n(38421),n(61363),n(76256),n(86178)),a=n.n(o),s=(n(88637),n(78187),n(58013),n(85594),n(28096)),i=n(55613),c=n(92157),l=n.n(c),d=n(36762),h=n(71134),u=n(77199),p=n(17526),m=n(70579);const f=()=>{const[e,t]=(0,r.useState)(null),[n,o]=(0,r.useState)(""),[c,f]=(0,r.useState)(""),[v,x]=(0,r.useState)(""),[j,g]=(0,r.useState)(),[b,y]=(0,r.useState)("");(0,r.useEffect)((()=>{d.A.get("/reports/getSalesReport").then((e=>{t(e.data.data),y(e.data.data)})).catch((()=>{(0,h.A)("Over all sales Data Not Found","info")})),d.A.get("/company/getCompany").then((e=>{g(e.data.data)}))}),[]);const[w,O]=(0,r.useState)(0),C=20*w,_=b.slice(C,C+20),k=Math.ceil(b.length/20),E=[{name:"SN",selector:"s_no"},{name:"Invoice Date",selector:"invoice_date"},{name:"Invoice No",selector:"invoice_code"},{name:"Company Name",selector:"company_name"},{name:"Invoice Amount",selector:"invoiceAmount"},{name:"GST",selector:"gst"},{name:"Total",selector:"total"},{name:"Received",selector:"received"},{name:"Balance",selector:"balance"}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.A,{}),(0,m.jsx)(s.N9,{}),(0,m.jsx)(i.Zp,{children:(0,m.jsx)(i.bw,{children:(0,m.jsxs)(i.fI,{children:[(0,m.jsx)(i.fv,{children:(0,m.jsxs)(i.gE,{children:[(0,m.jsx)(i.JU,{children:"Start Date"}),(0,m.jsx)(i.pd,{type:"date",name:"startDate",onChange:e=>o(e.target.value)})]})}),(0,m.jsx)(i.fv,{children:(0,m.jsxs)(i.gE,{children:[(0,m.jsx)(i.JU,{children:"End Date"}),(0,m.jsx)(i.pd,{type:"date",name:"endDate",onChange:e=>f(e.target.value)})]})}),(0,m.jsx)(i.fv,{children:(0,m.jsxs)(i.gE,{children:[(0,m.jsx)(i.JU,{children:"Select Company Name"}),(0,m.jsxs)(i.pd,{type:"select",name:"company_id",onChange:e=>x(e.target.value),children:[(0,m.jsx)("option",{value:"",children:"Please Select"}),j&&j.map((e=>(0,m.jsx)("option",{value:e.company_name,children:e.company_name},e.company_id)))]})]})}),(0,m.jsx)(i.fv,{md:"1",children:(0,m.jsx)(i.$n,{color:"primary",className:"shadow-none",onClick:()=>(()=>{const t=e.filter((e=>e.company_name===(""===v?e.company_name:v))).filter((e=>c&&n?e.invoice_date<=(""===c?e.invoice_date:c)&&e.invoice_date>=(""===n?e.invoice_date:n):n?e.invoice_date===(""===n?e.invoice_date:n):e.invoice_date===(""===c?e.invoice_date:c)));y(t)})(),children:"Go"})})]})})}),(0,m.jsx)(i.Zp,{children:(0,m.jsx)(i.bw,{children:(0,m.jsxs)(i.fI,{children:[(0,m.jsx)(i.fv,{md:"3",children:(0,m.jsxs)(i.JU,{children:[(0,m.jsx)("b",{children:"Company:"})," ",v]})}),(0,m.jsx)(i.fv,{md:"3",children:(0,m.jsxs)(i.JU,{children:[(0,m.jsx)("b",{children:"Start Date:"})," ",n]})}),(0,m.jsx)(i.fv,{md:"3",children:(0,m.jsxs)(i.JU,{children:[(0,m.jsx)("b",{children:" End Date:"})," ",c]})})]})})}),(0,m.jsxs)(i.Zp,{children:[(0,m.jsx)(i.bw,{children:(0,m.jsx)(i.fI,{children:(0,m.jsx)(i.fv,{children:(0,m.jsx)(p.A,{columns:E,data:b})})})}),(0,m.jsxs)(i.bw,{children:[(0,m.jsxs)(i.XI,{children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{children:E.map((e=>(0,m.jsx)("td",{children:e.name},e.name)))})}),(0,m.jsx)("tbody",{children:_&&_.map(((e,t)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:t+1}),(0,m.jsx)("td",{children:a()(e.invoice_date).format("YYYY-MM-DD")}),(0,m.jsx)("td",{children:e.invoice_code}),(0,m.jsx)("td",{children:e.company_name}),(0,m.jsx)("td",{children:e.invoiceAmount}),(0,m.jsx)("td",{children:e.gst}),(0,m.jsx)("td",{children:e.total}),(0,m.jsx)("td",{children:e.received}),(0,m.jsx)("td",{children:e.balance})]},e.invoice_id)))})]}),(0,m.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",pageCount:k,onPageChange:e=>{let{selected:t}=e;O(t)},containerClassName:"navigationButtons",previousLinkClassName:"previousButton",nextLinkClassName:"nextButton",disabledClassName:"navigationDisabled",activeClassName:"navigationActive"})]})]})]})}},17526:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(65043),o=n(65173),a=n.n(o);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=(0,r.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,a=e.size,c=void 0===a?24:a,l=i(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="Table";const l=c;var d=n(69197),h=n(55613),u=n(54211),p=n.n(u),m=n(86947),f=n(81859),v=n(18713),x=n(36762),j=n(70579);const g=e=>{let{data:t,columns:n}=e;const[o,a]=r.useState();r.useEffect((()=>{x.A.get("/setting/getSettingsForCompany").then((e=>{a(e.data.data)}))}),[]);const s=e=>o.find((t=>t.key_text===e)).value;function i(){const e=[],r=[],o=[];return n.forEach((e=>{r.push(e.selector),o.push({text:e.name,style:"tableHead"})})),e.push(o),t.forEach(((t,n)=>{const o=[];r.forEach((e=>{o.push({text:"s_no"===e?n+1:void 0!==t[e]?t[e]:"",style:"tableBody"})})),e.push(o)})),e}const c=()=>{const e=100/n.length,t=n.length,r=[];for(let n=0;n<t;n++)r.push("".concat(e,"%"));return console.log(r),r};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.fI,{children:(0,j.jsxs)(h.fv,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,j.jsxs)(h.$n,{style:{background:"green",border:"none",marginRight:"10px"},className:"shadow-none",onClick:function(){const e=document.createElement("a");let r=function(e){let t;const r=[],o=[];return n.forEach((e=>{r.push(e.name),o.push(e.selector)})),console.log(r),t="",t+=r.join(","),t+="\n",e.forEach(((e,n)=>{let r=0;o.forEach((o=>{r>0&&(t+=","),t+="s_no"===o?n+1:e[o]?e[o]:"",r++})),t+="\n"})),t}(t);if(null==r)return;r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),e.setAttribute("href",encodeURI(r)),e.setAttribute("download","export.csv"),e.click()},children:[(0,j.jsx)(l,{})," Excel"]}),(0,j.jsxs)(h.$n,{style:{background:"#D11606",border:"none"},className:"shadow-none",onClick:()=>{const e={pageSize:"A4",header:(0,f.A)({findCompany:s}),pageMargins:[40,110,40,80],footer:v.A,content:[{table:{headerRows:1,dontBreakRows:!0,widths:c(),body:i()},layout:"lightHorizontalLines"}],styles:{tableHead:{border:[!1,!0,!1,!0],fillColor:"#eaf2f5",margin:[0,5,0,5],fontSize:10,bold:"true"},tableBody:{border:[!1,!0,!1,!0],margin:[0,5,0,5],fontSize:10}}};p().vfs=m.b.vfs,p().createPdf(e,null,null,m.b.vfs).open()},children:[(0,j.jsx)(d.A,{})," PDF"]})]})})})}},69197:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(65043),o=n(65173),a=n.n(o);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=(0,r.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,a=e.size,c=void 0===a?24:a,l=i(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.createElement("polyline",{points:"13 2 13 9 20 9"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="File";const l=c},77199:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(55613),o=n(86971),a=n(51318),s=n(70579);const i=e=>{const t=(0,o.zy)(),n=t.pathname.split("/")[1],i=t.pathname.split("/")[2];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h4",{children:e.heading}),(0,s.jsxs)(r.Qp,{children:[(0,s.jsx)(r.J5,{to:"/",tag:a.N_,className:"text-decoration-none",children:"Home"}),n?(0,s.jsx)(r.J5,{active:!0,children:n}):"",i?(0,s.jsx)(r.J5,{active:!0,children:i}):""]})]})}},85594:(e,t,n)=>{var r,o;r=[n(58613),n(65219),n(56670)],void 0===(o=function(e){return function(e,t,n,r){"use strict";var o=e.fn.dataTable,a=n.createElement("a"),s=function(t){var n=e(t).clone()[0];return"link"===n.nodeName.toLowerCase()&&(n.href=i(n.href)),n.outerHTML},i=function(e){a.href=e;var t=a.host;return-1===t.indexOf("/")&&0!==a.pathname.indexOf("/")&&(t+="/"),a.protocol+"//"+t+a.pathname+a.search};return o.ext.buttons.print={className:"buttons-print",text:function(e){return e.i18n("buttons.print","Print")},action:function(n,o,a,c){var l=o.buttons.exportData(e.extend({decodeEntities:!1},c.exportOptions)),d=o.buttons.exportInfo(c),h=o.columns(c.exportOptions.columns).flatten().map((function(e){return o.settings()[0].aoColumns[o.column(e).index()].sClass})).toArray(),u=function(e,t){for(var n="<tr>",o=0,a=e.length;o<a;o++){var s=null===e[o]||e[o]===r?"":e[o];n+="<"+t+" "+(h[o]?'class="'+h[o]+'"':"")+">"+s+"</"+t+">"}return n+"</tr>"},p='<table class="'+o.table().node().className+'">';c.header&&(p+="<thead>"+u(l.header,"th")+"</thead>"),p+="<tbody>";for(var m=0,f=l.body.length;m<f;m++)p+=u(l.body[m],"td");p+="</tbody>",c.footer&&l.footer&&(p+="<tfoot>"+u(l.footer,"th")+"</tfoot>"),p+="</table>";var v=t.open("","");if(v){v.document.close();var x="<title>"+d.title+"</title>";e("style, link").each((function(){x+=s(this)}));try{v.document.head.innerHTML=x}catch(n){e(v.document.head).html(x)}v.document.body.innerHTML="<h1>"+d.title+"</h1><div>"+(d.messageTop||"")+"</div>"+p+"<div>"+(d.messageBottom||"")+"</div>",e(v.document.body).addClass("dt-print-view"),e("img",v.document.body).each((function(e,t){t.setAttribute("src",i(t.getAttribute("src")))})),c.customize&&c.customize(v,c,o);var j=function(){c.autoPrint&&(v.print(),v.close())};navigator.userAgent.match(/Trident\/\d.\d/)?j():v.setTimeout(j,1e3)}else o.buttons.info(o.i18n("buttons.printErrorTitle","Unable to open print view"),o.i18n("buttons.printErrorMsg","Please allow popups in your browser for this site to be able to view the print view."),5e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},o.Buttons}(e,window,document)}.apply(t,r))||(e.exports=o)}}]);
//# sourceMappingURL=5782.de948b87.chunk.js.map