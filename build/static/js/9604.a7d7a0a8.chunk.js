"use strict";(self.webpackChunkmain_bt5=self.webpackChunkmain_bt5||[]).push([[5841,6581,8222,9604],{628:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(86178);const s=n.n(a)()().format("DD-MM-YYYY h:mm:ss a")},8006:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),s=n(55613),o=n(98536),r=n(36762),l=n(71134),i=n(70579);const d=e=>{let{attachmentModal:t,setAttachmentModal:n,moduleId:d,roomName:c,fileTypes:h,altTagData:u,desc:p,selectedCountries:x}=e;const[m,f]=(0,a.useState)([]),[j,g]=(0,a.useState)(),[v,y]=(0,a.useState)(null);return(0,i.jsx)("div",{children:(0,i.jsxs)(s.aF,{isOpen:t,children:[(0,i.jsx)(s.rQ,{children:"Upload Media"}),(0,i.jsxs)(s.cw,{children:[(0,i.jsxs)(s.gE,{children:[(0,i.jsx)(o.l,{multiple:!0,handleChange:e=>{const t=Object.entries(e).map((e=>e[1]));f(e),g(t),console.log(e)},name:"file",types:h}),j?j.map((e=>(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:[" Name: ",e.name," "]})}))):(0,i.jsx)("span",{children:"No file selected"})]}),v&&(0,i.jsx)("div",{className:"progress mt-2",children:(0,i.jsx)("div",{className:"progress-bar h-4",role:"progressbar","aria-valuenow":v,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(v,"%")},children:"".concat(v,"% uploaded")})})]}),(0,i.jsxs)(s.jl,{children:[(0,i.jsx)(s.$n,{color:"primary",className:"shadow-none",onClick:()=>{(()=>{if(m){const e=new FormData;Object.entries(m).map((e=>e[1])).forEach((t=>{e.append("files",t)})),e.append("record_id",d),e.append("room_name",c),e.append("alt_tag_data",u),e.append("description",p),e.append("countries",x),r.A.post("/file/uploadFiles",e,{onUploadProgress:e=>{console.log(Math.round(e.loaded/e.total*100)),y(Math.round(e.loaded/e.total*100))}}).then((()=>{(0,l.A)("Files Uploaded Successfully","success"),setTimeout((()=>{window.location.reload()}),400)})).catch((()=>{n(!1),(0,l.A)("Unable to upload File","error"),setTimeout((()=>{window.location.reload()}),400)}))}else(0,l.A)("No files selected","info")})()},children:"Upload"}),(0,i.jsx)(s.$n,{color:"secondary",className:"shadow-none",onClick:()=>{window.location.reload(),n(!1)},children:"Cancel"})]})]})})}},10556:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),s=n(65173),o=n.n(s);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var i=(0,a.forwardRef)((function(e,t){var n=e.color,s=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,d=l(e,["color","size"]);return a.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));i.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},i.displayName="Edit2";const d=i},12997:()=>{},16282:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(65043),s=n(30064),o=n.n(s),r=n(67330),l=n(71134),i=n(36762),d=n(70579);const c=function(e){let{moduleId:t,roomName:n}=e;const s={},[c,h]=(0,a.useState)(null);return(0,a.useEffect)((()=>{i.A.post("/file/getListOfFiles",{record_id:t,room_name:n}).then((e=>{h(e.data)}))}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("table",{style:s,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:s,children:[(0,d.jsx)("th",{style:s,children:"File Name"}),(0,d.jsx)("th",{width:"5%"})]})}),(0,d.jsx)("tbody",{children:c?c.map((e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:s,children:(0,d.jsx)("a",{href:"https://ems.unitdtechnologies.com/storage/".concat(e.name),target:"_blank",rel:"noreferrer",children:(0,d.jsx)("img",{src:"https://ems.unitdtechnologies.com/storage/".concat(e.name),width:200,height:200,alt:"".concat(e.name)})})}),(0,d.jsx)("td",{style:s,children:(0,d.jsxs)("button",{type:"button",className:"btn shadow-none",onClick:()=>{var t;t=e.media_id,o().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&i.A.post("/file/deleteFile",{media_id:t}).then((e=>{console.log(e),o().fire("Deleted!","Media has been deleted.","success"),window.location.reload()})).catch((()=>{(0,l.A)("Unable to Delete Media","info")}))}))},children:[(0,d.jsx)(r.A,{})," "]})})]},e.media_id))):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:(0,d.jsx)("p",{children:"no files uploaded yet"})})})})]})})}},26581:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(55613),s=(n(65043),n(70579));function o(e){let{details:t=null,title:n}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.ZB,{tag:"h4",className:"border-bottom px-4 py-3 mb-0",children:(0,s.jsxs)(a.fI,{children:[(0,s.jsx)(a.fv,{children:n}),t&&(0,s.jsxs)(a.fv,{children:[(0,s.jsx)(a.fI,{children:(0,s.jsxs)("small",{children:[" Creation: ",t&&t.created_by," ",t&&t.creation_date]})}),(0,s.jsx)(a.fI,{className:"d-flex",children:(0,s.jsxs)("small",{children:[" Modified: ",t&&t.modified_by," ",t&&t.modification_date]})})]})]})})})}const r=e=>{let{children:t,title:n,subtitle:r,creationModificationDate:l}=e;return(0,s.jsxs)(a.Zp,{className:"shadow-none",children:[(0,s.jsx)(o,{details:l,title:n}),(0,s.jsxs)(a.bw,{className:"p-4",children:[(0,s.jsx)(a.jq,{className:"text-muted mb-3",children:r||""}),(0,s.jsx)("div",{children:t})]})]})}},49664:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(55613),s=n(70579);const o={textAlign:"right",marginRight:"10px"},r={outline:"none",border:"none"},l=e=>{let{children:t}=e;return(0,s.jsx)(a.Zp,{className:"shadow-none",children:(0,s.jsx)(a.bw,{style:o,children:(0,s.jsx)("div",{className:"btn btn-space text-nowrap shadow-none outline-none",style:r,children:t})})})}},67330:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),s=n(65173),o=n.n(s);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var i=(0,a.forwardRef)((function(e,t){var n=e.color,s=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,d=l(e,["color","size"]);return a.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),a.createElement("polyline",{points:"3 6 5 6 21 6"}),a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));i.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},i.displayName="Trash2";const d=i},69197:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),s=n(65173),o=n.n(s);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var i=(0,a.forwardRef)((function(e,t){var n=e.color,s=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,d=l(e,["color","size"]);return a.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),a.createElement("polyline",{points:"13 2 13 9 20 9"}))}));i.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},i.displayName="File";const d=i},71134:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(28096);n(92342);const s=(e,t)=>"success"===t?a.oR.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"error"===t?a.oR.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"info"===t?a.oR.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"warning"===t?a.oR.warning(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):(0,a.oR)(e)},76482:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(89379),s=n(65043),o=n(55613),r=n(28096),l=n(69197),i=n(86971),d=n(86178),c=n.n(d),h=n(77275),u=n(39956),p=n.n(u),x=n(11869),m=n.n(x),f=n(54410),j=(n(90425),n(12997),n(77199)),g=n(26581),v=n(49664),y=n(16282),b=n(8006),C=n(30064),w=n.n(C),A=n(67330),_=n(10556),k=n(71134),S=n(36762),E=n(628),O=n(1580),N=n(70579);const D=function(e){let{moduleId:t,roomName:n,update:r,setUpdate:l}=e;const i={},[d,h]=(0,s.useState)(null),u=()=>{S.A.post("/file/getListOfFiles",{record_id:t,room_name:n}).then((e=>{h(e.data)}))},[p,x]=(0,s.useState)(),[m,f]=(0,s.useState)(null),[j,g]=(0,s.useState)(null),v=e=>{f((0,a.A)((0,a.A)({},m),{},{[e.target.name]:e.target.value}))},{loggedInuser:y}=(0,s.useContext)(O.A),b=e=>{S.A.post("/content/getAudioDataById",{media_id:e}).then((e=>{f(e.data.data),console.log(e.data.data)}))};return(0,s.useEffect)((()=>{b()}),[]),(0,s.useEffect)((()=>{u()}),[r]),(0,s.useEffect)((()=>{u()}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("table",{style:i,children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{style:i,children:[(0,N.jsx)("th",{style:i,children:"File Name"}),(0,N.jsx)("th",{width:"5%"})]})}),(0,N.jsx)("tbody",{children:d?d.map((e=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{style:i,children:(0,N.jsx)("a",{href:"http://43.228.126.245/EMS-API/storage/uploads/".concat(e.name),target:"_blank",rel:"noreferrer",children:e.name})}),(0,N.jsx)("td",{style:i,children:(0,N.jsxs)("button",{type:"button",className:"btn shadow-none",onClick:()=>{var t;t=e.media_id,w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&S.A.post("/file/deleteFile",{media_id:t}).then((e=>{console.log(e),w().fire("Deleted!","Media has been deleted.","success"),l(!r)})).catch((()=>{(0,k.A)("Unable to Delete Media","info")}))}))},children:[(0,N.jsx)(A.A,{})," "]})}),(0,N.jsx)("td",{style:i,children:(0,N.jsxs)("button",{type:"button",className:"btn shadow-none",onClick:()=>{x(!0),b(e.media_id),g(e.media_id)},children:[(0,N.jsx)(_.A,{})," "]})})]},e.media_id))):(0,N.jsx)("tr",{children:(0,N.jsx)("td",{children:(0,N.jsx)("p",{children:"no files uploaded yet"})})})})]}),(0,N.jsxs)(o.aF,{size:"lg",isOpen:p,children:[(0,N.jsxs)(o.rQ,{children:["Insert Audio Datas",(0,N.jsx)(o.$n,{color:"secondary",className:"shadow-none",onClick:()=>{x(!1)},children:"X"})]}),(0,N.jsx)(o.cw,{children:(0,N.jsx)(o.fI,{children:(0,N.jsx)(o.fv,{md:"12",children:(0,N.jsx)(o.Zp,{children:(0,N.jsx)(o.bw,{children:(0,N.jsxs)(o.lV,{children:[(0,N.jsxs)(o.fI,{children:[(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Tag"}),(0,N.jsx)(o.pd,{type:"text",onChange:v,defaultValue:m&&m.tag,name:"tag"})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Author Name"}),(0,N.jsx)(o.pd,{type:"text",onChange:v,defaultValue:m&&m.author_name,name:"author_name"})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Date"}),(0,N.jsx)(o.pd,{type:"date",onChange:v,defaultValue:m&&c()(m.date).format("YYYY-MM-DD"),name:"date"})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Published Date"}),(0,N.jsx)(o.pd,{type:"date",onChange:v,defaultValue:m&&c()(m.published_date).format("YYYY-MM-DD"),name:"published_date"})]})})]}),(0,N.jsx)(o.fI,{children:(0,N.jsx)(o.fv,{md:"6",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Comments"}),(0,N.jsx)(o.pd,{type:"textarea",rows:4,onChange:v,defaultValue:m&&m.comments,name:"comments"})]})})})]})})})})})}),(0,N.jsxs)(o.jl,{children:[(0,N.jsx)(o.$n,{color:"primary",className:"shadow-none",onClick:()=>{m.modification_date=E.A,m.modified_by=y.first_name,m.content_id=t,m.media_id=j,S.A.post("/content/editAudioData",m).then((()=>{(0,k.A)("Record edited successfully","success")})).catch((()=>{(0,k.A)("Unable to edit record.","error")})),x(!1)},children:" Submit "}),(0,N.jsx)(o.$n,{color:"secondary",className:"shadow-none",onClick:()=>{x(!1)},children:"Cancel"})]})]})]})};function U(e){let{contentDetails:t,handleInputs:n,valuelist:a,subcategoryLinked:s,sectionLinked:l,categoryLinked:i,valuelistCountry:d,valuelistCity:h}=e;return console.log("City",h),(0,N.jsx)("div",{children:(0,N.jsxs)(g.default,{title:"Content Details",creationModificationDate:t,children:[(0,N.jsx)(r.N9,{}),(0,N.jsxs)(o.fI,{children:[(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsxs)(o.JU,{children:[" Title",(0,N.jsx)("span",{className:"required",children:" *"}),"  "]}),(0,N.jsx)(o.pd,{type:"text",onChange:n,value:t&&t.title,name:"title"})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Section"}),(0,N.jsxs)(o.pd,{type:"select",name:"section_id",value:t&&t.section_id,onChange:n,children:[(0,N.jsx)("option",{value:"",selected:"selected",children:"Please Select"}),l&&l.map((e=>(0,N.jsx)("option",{value:e.section_id,children:e.section_title})))]})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Keyword search"}),(0,N.jsx)(o.pd,{type:"textarea",onChange:n,value:t&&t.search_keyword,name:"search_keyword"})]})}),t&&("Bayan / \u0baa\u0baf\u0bbe\u0ba9\u0bcd\u0b95\u0bb3\u0bcd"===t.section_title||"Mawlid Majlis / \u0bae\u0bcc\u0bb2\u0bbf\u0ba4\u0bcd \u0bae\u0b9c\u0bcd\u0bb2\u0bbf\u0bb8\u0bcd\u0b95\u0bb3\u0bcd"===t.section_title||"Events / \u0ba8\u0bbf\u0b95\u0bb4\u0bcd\u0bb5\u0bc1\u0b95\u0bb3\u0bcd"===t.section_title||"Magazine / \u0bae\u0bb2\u0bb0\u0bcd\u0b95\u0bb3\u0bcd"===t.section_title||"Video Gallery / \u0b95\u0bbe\u0ba3\u0bca\u0bb3\u0bbf\u0b95\u0bb3\u0bcd"===t.section_title||"Audio Gallery / \u0b86\u0b9f\u0bbf\u0baf\u0bcb\u0b95\u0bcd\u0b95\u0bb3\u0bcd"===t.section_title||"Books / \u0b95\u0bbf\u0ba4\u0bbe\u0baa\u0bc1\u0b95\u0bb3\u0bcd"===t.section_title)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Tag"}),(0,N.jsx)(o.pd,{type:"text",onChange:n,value:t&&t.tag,name:"tag"})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Author Name"}),(0,N.jsx)(o.pd,{type:"text",onChange:n,value:t&&t.author_name,name:"author_name"})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Date"}),(0,N.jsx)(o.pd,{type:"date",onChange:n,value:t&&c()(t.date).format("YYYY-MM-DD"),name:"date"})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Published Date"}),(0,N.jsx)(o.pd,{type:"Date",onChange:n,value:t&&c()(t.published_date).format("YYYY-MM-DD"),name:"published_date"})]})})]}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Category"}),(0,N.jsxs)(o.pd,{type:"select",name:"category_id",value:t&&t.category_id,onChange:n,children:[(0,N.jsx)("option",{value:"",selected:"selected",children:"Please Select"}),i&&i.map((e=>(0,N.jsx)("option",{value:e.category_id,children:e.category_title})))]})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Sub Category"}),(0,N.jsxs)(o.pd,{type:"select",name:"sub_category_id",value:t&&t.sub_category_id,onChange:n,children:[(0,N.jsx)("option",{value:"",selected:"selected",children:"Please Select"}),s&&s.map((e=>(0,N.jsx)("option",{value:e.sub_category_id,children:e.sub_category_title})))]})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Content Type"}),(0,N.jsxs)(o.pd,{type:"select",onChange:n,value:t&&t.content_type,name:"content_type",children:[(0,N.jsx)("option",{defaultValue:"selected",children:"Please Select"}),a&&a.map((e=>(0,N.jsx)("option",{value:e.value,children:e.value},e.value)))]})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Upload Country"}),(0,N.jsxs)(o.pd,{type:"select",onChange:n,value:t&&t.upload_country,name:"upload_country",children:[(0,N.jsx)("option",{defaultValue:"selected",children:"Please Select"}),d&&d.map((e=>(0,N.jsx)("option",{value:e.value,children:e.value},e.value)))]})]})}),(0,N.jsx)(o.fv,{md:"3",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Upload City"}),(0,N.jsxs)(o.pd,{type:"select",onChange:n,value:t&&t.upload_city,name:"upload_city",children:[(0,N.jsx)("option",{defaultValue:"selected",children:"Please Select"}),h&&h.map((e=>(0,N.jsx)("option",{value:e.citi_value,children:e.citi_value},e.citi_value)))]})]})})]})]})})}var M=n(96406);const T=()=>{const[e,t]=(0,s.useState)(),[n,d]=(0,s.useState)(),[u,x]=(0,s.useState)(),[C,w]=(0,s.useState)(),[A,_]=(0,s.useState)(""),[T,P]=(0,s.useState)("1"),[L,F]=(0,s.useState)(""),[I,V]=(0,s.useState)(""),[z,Y]=(0,s.useState)(!1),[J,R]=(0,s.useState)({modelType:""}),[B,H]=(0,s.useState)(!1),[$,G]=(0,s.useState)(""),[Z,W]=(0,s.useState)(""),[q,Q]=(0,s.useState)(!1),[X,K]=(0,s.useState)({modelType:""}),[ee,te]=(0,s.useState)(!1),[ne,ae]=(0,s.useState)(null),[se,oe]=(0,s.useState)(),[re,le]=(0,s.useState)(),[ie,de]=(0,s.useState)([]);console.log("valuelistCity",ie);const{id:ce}=(0,i.g)(),he=(0,i.Zp)(),{loggedInuser:ue}=(0,s.useContext)(O.A),pe=n=>{t((0,a.A)((0,a.A)({},e),{},{[n.target.name]:n.target.value}))},xe=()=>{S.A.post("/content/getContentById",{content_id:ce}).then((e=>{t(e.data.data),(e=>{const t=m()(e&&e);if(t){const e=f.ContentState.createFromBlockArray(t.contentBlocks),n=f.EditorState.createWithContent(e);_(n)}})(e.data.data.description)})).catch((()=>{}))},me=()=>{""!==e.title?(e.modification_date=E.A,e.modified_by=ue.first_name,S.A.post("/content/editContent",e).then((()=>{(0,k.A)("Record edited successfully","success")})).catch((()=>{(0,k.A)("Unable to edit record.","error")}))):(0,k.A)("Please fill all required fields","warning")},fe=()=>{S.A.get("/content/getCategory",u).then((e=>{x(e.data.data)}))};(0,s.useEffect)((()=>{const t=null===e||void 0===e?void 0:e.upload_country;console.log("countryValue",t),S.A.post("/valuelist/getValueListCity",{value:t}).then((e=>{de(e.data.data),console.log("country",e.data.data)}))}),[e]);const[je,ge]=(0,s.useState)();return(0,s.useEffect)((()=>{S.A.get("/valuelist/getCountryValuelist").then((e=>{console.log(e.data.data)})).catch((()=>{}))}),[ce]),(0,s.useEffect)((()=>{S.A.post("/content/getBroadCastById",{broadcast_id:ce}).then((e=>{ge(e.data.data[0])})).catch((()=>{(0,k.A)("category Data Not Found","info")}))}),[ce]),console.log("",je),(0,s.useEffect)((()=>{S.A.get("/content/getSection",n).then((e=>{d(e.data.data)})),fe(),S.A.get("/content/getSubCategory",C).then((e=>{w(e.data.data)})),xe(),S.A.get("/content/getValueList").then((e=>{oe(e.data.data)})).catch((()=>{(0,k.A)("valuelist not found","info")})),S.A.get("/valuelist/getValueListCountry").then((e=>{le(e.data.data)})).catch((()=>{(0,k.A)("valuelist not found","info")}))}),[ce]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(j.A,{heading:e&&e.title}),(0,N.jsx)(o.lV,{children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(v.A,{children:(0,N.jsxs)(o.fI,{children:[(0,N.jsx)(o.fv,{children:(0,N.jsx)(o.$n,{color:"primary",onClick:()=>{me(),setTimeout((()=>{he("/Content")}),1100)},children:"Save"})}),(0,N.jsx)(o.fv,{children:(0,N.jsx)(o.$n,{color:"primary",onClick:()=>{me()},children:"Apply"})}),(0,N.jsx)(o.fv,{children:(0,N.jsx)(o.$n,{color:"dark",onClick:()=>{he("/Content"),console.log("back to list")},children:"Back to List"})})]})}),(0,N.jsx)(U,{contentDetails:e,handleInputs:pe,valuelist:se,subcategoryLinked:C,getCategory:fe,sectionLinked:n,categoryLinked:u,valuelistCountry:re,valuelistCity:ie}),(0,N.jsxs)(g.default,{title:"Content details",children:[(0,N.jsx)(r.N9,{}),(0,N.jsxs)(o.fI,{children:[(0,N.jsx)(o.fv,{md:"4",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:" Show Title"}),(0,N.jsx)("br",{}),(0,N.jsx)(o.JU,{children:" Yes "}),(0,N.jsx)(o.pd,{name:"show_title",value:"1",type:"radio",defaultChecked:e&&1===e.show_title&&!0,onChange:pe}),(0,N.jsx)(o.JU,{children:" No "}),(0,N.jsx)(o.pd,{name:"show_title",value:"0",type:"radio",defaultChecked:e&&0===e.show_title&&!0,onChange:pe})]})}),(0,N.jsx)(o.fv,{md:"4",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Published"}),(0,N.jsx)("br",{}),(0,N.jsx)(o.JU,{children:"Yes"}),(0,N.jsx)(o.pd,{name:"published",value:"1",type:"radio",defaultChecked:e&&1===e.published&&!0,onChange:pe}),(0,N.jsx)(o.JU,{children:"No"}),(0,N.jsx)(o.pd,{name:"published",value:"0",type:"radio",defaultChecked:e&&0===e.published&&!0,onChange:pe})]})}),(0,N.jsx)(o.fv,{md:"4",children:(0,N.jsxs)(o.gE,{children:[(0,N.jsx)(o.JU,{children:"Content Date"}),(0,N.jsx)(o.pd,{type:"date",onChange:pe,value:c()(e&&e.content_date).format("YYYY-MM-DD"),name:"content_date"})]})}),(0,N.jsx)(g.default,{title:"Description",children:(0,N.jsx)(h.Editor,{editorState:A,wrapperClassName:"demo-wrapper mb-0",editorClassName:"demo-editor border mb-4 edi-height",onEditorStateChange:n=>{((n,s)=>{t((0,a.A)((0,a.A)({},e),{},{[s]:p()((0,f.convertToRaw)(n.getCurrentContent()))}))})(n,"description"),_(n)}})})]})]})]})}),(0,N.jsxs)(g.default,{title:"More Details",children:[(0,N.jsx)(r.N9,{}),(0,N.jsx)(M.A,{toggle:e=>{T!==e&&P(e)},tabs:[{id:"2",name:"Attachment"}]}),(0,N.jsx)(o.JS,{className:"p-4",activeTab:T,children:(0,N.jsxs)(o.mF,{tabId:"2",children:[(0,N.jsx)(o.lV,{children:(0,N.jsx)(o.gE,{children:(0,N.jsxs)(g.default,{title:"Attachments",children:[(0,N.jsx)(o.fI,{children:(0,N.jsx)(o.fv,{xs:"12",md:"3",className:"mb-3",children:(0,N.jsx)(o.$n,{className:"shadow-none",color:"primary",onClick:()=>{F("ContentAttachment"),V(["JPG","JPEG","PNG","GIF","PDF"]),R({modelType:"attachment"}),Y(!0)},children:(0,N.jsx)(l.A,{className:"rounded-circle",width:"20"})})})}),(0,N.jsx)(b.A,{moduleId:ce,attachmentModal:z,setAttachmentModal:Y,roomName:L,fileTypes:I,altTagData:"ContentRelated Data",desc:"ContentRelated Data",recordType:"ContentRelatedPicture",mediaType:J.modelType,update:B,setUpdate:H}),(0,N.jsx)(y.A,{moduleId:ce,roomName:"ContentAttachment",recordType:"ContentRelatedPicture",update:B,setUpdate:H})]})})}),(0,N.jsx)(o.lV,{children:(0,N.jsx)(o.gE,{children:(0,N.jsxs)(g.default,{title:"Audio Attachments",children:[(0,N.jsx)(o.fI,{children:(0,N.jsx)(o.fv,{xs:"12",md:"3",className:"mb-3",children:(0,N.jsx)(o.$n,{className:"shadow-none",color:"primary",onClick:()=>{G("ContentAudioAttachment"),W(["GIF","OGG","MP3","WAV","M4A"]),K({modelType:"audioattachment"}),Q(!0)},children:(0,N.jsx)(l.A,{className:"rounded-circle",width:"20"})})})}),(0,N.jsx)(b.A,{moduleId:ce,attachmentModal:q,setAttachmentModal:Q,roomName:$,fileTypes:Z,altTagData:"ContentRelated Data",desc:"ContentRelated Data",recordType:"ContentRelatedAudio",mediaType:X.modelType,update:ee,setUpdate:te,editaudiodatamodal:ne,setEditAudioDataModal:ae}),(0,N.jsx)(D,{moduleId:ce,roomName:"ContentAudioAttachment",recordType:"ContentRelatedAudio",update:ee,setUpdate:te})]})})})]})})]})]})}},77199:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(55613),s=n(86971),o=n(51318),r=n(70579);const l=e=>{const t=(0,s.zy)(),n=t.pathname.split("/")[1],l=t.pathname.split("/")[2];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:e.heading}),(0,r.jsxs)(a.Qp,{children:[(0,r.jsx)(a.J5,{to:"/",tag:o.N_,className:"text-decoration-none",children:"Home"}),n?(0,r.jsx)(a.J5,{active:!0,children:n}):"",l?(0,r.jsx)(a.J5,{active:!0,children:l}):""]})]})}},90425:()=>{},96406:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(65043),s=n(55613),o=n(51318),r=n(70579);function l(e){let{toggle:t,tabs:n}=e;const[l,i]=(0,o.ok)();return(0,a.useEffect)((()=>{t(l.get("tab"))}),[l.get("tab")]),(0,r.jsx)(s.so,{tabs:!0,children:null===n||void 0===n?void 0:n.map((e=>(0,r.jsx)(s.CI,{children:(0,r.jsx)(s.k2,{className:e.id===l.get("tab")?"active":"",onClick:()=>{i({tab:e.id}),t(e.id)},children:e.name},e.id)},e.id)))})}},98536:(e,t,n)=>{n.d(t,{l:()=>w});var a=n(70579),s=n(70221),o=n(65043),r=function(){return r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};function l(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var i,d,c,h,u,p=(0,s.css)(i||(i=l(["\n  display: flex;\n  align-items: center;\n  min-width: 322px;\n  max-width: 508px;\n  height: 48px;\n  border: dashed 2px ",";\n  padding: 8px 16px 8px 8px;\n  border-radius: 5px;\n  cursor: pointer;\n  flex-grow: 0;\n"],["\n  display: flex;\n  align-items: center;\n  min-width: 322px;\n  max-width: 508px;\n  height: 48px;\n  border: dashed 2px ",";\n  padding: 8px 16px 8px 8px;\n  border-radius: 5px;\n  cursor: pointer;\n  flex-grow: 0;\n"])),"#0658c2"),x=s.default.label(d||(d=l(["\n  position: relative;\n  ",";\n  &.is-disabled {\n    border: dashed 2px ",";\n    cursor: no-drop;\n    svg {\n      fill: ",";\n      color: ",";\n      path {\n        fill: ",";\n        color: ",";\n      }\n    }\n  }\n  & > input {\n    display: none;\n  }\n"],["\n  position: relative;\n  ",";\n  &.is-disabled {\n    border: dashed 2px ",";\n    cursor: no-drop;\n    svg {\n      fill: ",";\n      color: ",";\n      path {\n        fill: ",";\n        color: ",";\n      }\n    }\n  }\n  & > input {\n    display: none;\n  }\n"])),(function(e){return e.overRide?"":p}),"#666","#666","#666","#666","#666"),m=s.default.div(c||(c=l(["\n  border: dashed 2px ",";\n  border-radius: 5px;\n  background-color: ",";\n  opacity: 0.5;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  & > span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n  }\n"],["\n  border: dashed 2px ",";\n  border-radius: 5px;\n  background-color: ",";\n  opacity: 0.5;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  & > span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n  }\n"])),"#666","#999"),f=s.default.div(h||(h=l(["\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 1;\n  & > span {\n    font-size: 12px;\n    color: ",";\n  }\n  .file-types {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    max-width: 100px;\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 1;\n  & > span {\n    font-size: 12px;\n    color: ",";\n  }\n  .file-types {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    max-width: 100px;\n  }\n"])),(function(e){return e.error?"red":"#666"})),j=s.default.span(u||(u=l(["\n  font-size: 14px;\n  color: ",";\n  span {\n    text-decoration: underline;\n  }\n"],["\n  font-size: 14px;\n  color: ",";\n  span {\n    text-decoration: underline;\n  }\n"])),"#666"),g=function(e){return e/1e3/1e3};function v(e){var t=e.types,n=e.minSize,s=e.maxSize;if(t){var o=t.toString(),l="";return s&&(l+="size >= ".concat(s,", ")),n&&(l+="size <= ".concat(n,", ")),(0,a.jsx)("span",r({title:"".concat(l,"types: ").concat(o),className:"file-types"},{children:o}),void 0)}return null}function y(){return(0,a.jsxs)("svg",r({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,a.jsx)("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),(0,a.jsx)("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),(0,a.jsx)("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var b=0,C=function(e,t,n,s,o){return n?(0,a.jsx)("span",{children:"File type/size error, Hovered on types!"},void 0):(0,a.jsx)(j,{children:s?(0,a.jsx)("span",{children:"Upload disabled"},void 0):e||t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(a.Fragment,o?{children:[(0,a.jsx)("span",{children:o.split(" ")[0]},void 0)," ",o.substr(o.indexOf(" ")+1)]}:{children:[(0,a.jsx)("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},w=function(e){var t,n=e.name,s=e.hoverTitle,l=e.types,i=e.handleChange,d=e.classes,c=e.children,h=e.maxSize,u=e.minSize,p=e.fileOrFiles,j=e.onSizeError,w=e.onTypeError,A=e.onSelect,_=e.onDrop,k=e.disabled,S=e.label,E=e.multiple,O=e.onDraggingStateChange,N=e.dropMessageStyle,D=(0,o.useRef)(null),U=(0,o.useRef)(null),M=(0,o.useState)(!1),T=M[0],P=M[1],L=(0,o.useState)(null),F=L[0],I=L[1],V=(0,o.useState)(!1),z=V[0],Y=V[1],J=function(e){return l&&!function(e,t){var n=e.name.split(".").pop();return t.map((function(e){return e.toLowerCase()})).includes(n.toLowerCase())}(e,l)?(Y(!0),w&&w("File type is not supported"),!1):h&&g(e.size)>h?(Y(!0),j&&j("File size is too big"),!1):!(u&&g(e.size)<u)||(Y(!0),j&&j("File size is too small"),!1)},R=function(e){var t=!1;if(e){if(e instanceof File)t=!J(e);else for(var n=0;n<e.length;n++){var a=e[n];t=!J(a)||t}return!t&&(i&&i(e),I(e),P(!0),Y(!1),!0)}return!1},B=function(e){var t=e.labelRef,n=e.inputRef,a=e.multiple,s=e.handleChanges,r=e.onDrop,l=(0,o.useState)(!1),i=l[0],d=l[1],c=(0,o.useCallback)((function(){n.current.click()}),[n]),h=(0,o.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),b++,e.dataTransfer.items&&0!==e.dataTransfer.items.length&&d(!0)}),[]),u=(0,o.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),--b>0||d(!1)}),[]),p=(0,o.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),x=(0,o.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),d(!1),b=0;var t=e.dataTransfer.files;if(t&&t.length>0){var n=a?t:t[0],o=s(n);r&&o&&r(n)}}),[s]);return(0,o.useEffect)((function(){var e=t.current;return e.addEventListener("click",c),e.addEventListener("dragenter",h),e.addEventListener("dragleave",u),e.addEventListener("dragover",p),e.addEventListener("drop",x),function(){e.removeEventListener("click",c),e.removeEventListener("dragenter",h),e.removeEventListener("dragleave",u),e.removeEventListener("dragover",p),e.removeEventListener("drop",x)}}),[c,h,u,p,x,t]),i}({labelRef:D,inputRef:U,multiple:E,handleChanges:R,onDrop:_});return(0,o.useEffect)((function(){null==O||O(B)}),[B]),(0,o.useEffect)((function(){p?(P(!0),I(p)):(U.current&&(U.current.value=""),P(!1),I(null))}),[p]),(0,a.jsxs)(x,r({overRide:c,className:"".concat(d||""," ").concat(k?"is-disabled":""),ref:D,htmlFor:n,onClick:function(e){e.preventDefault(),e.stopPropagation()}},{children:[(0,a.jsx)("input",{onClick:function(e){e.stopPropagation(),U&&U.current&&U.current.click()},onChange:function(e){var t=e.target.files,n=E?t:t[0],a=R(n);A&&a&&A(n)},accept:(t=l,void 0===t?"":t.map((function(e){return".".concat(e.toLowerCase())})).join(",")),ref:U,type:"file",name:n,disabled:k,multiple:E},void 0),B&&(0,a.jsx)(m,r({style:N},{children:(0,a.jsx)("span",{children:s||"Drop Here"},void 0)}),void 0),!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{},void 0),(0,a.jsxs)(f,r({error:z},{children:[C(F,T,z,k,S),(0,a.jsx)(v,{types:l,minSize:u,maxSize:h},void 0)]}),void 0)]},void 0),c]}),void 0)}}}]);
//# sourceMappingURL=9604.a7d7a0a8.chunk.js.map